<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tra Cứu Can Chi Ngũ Hành</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 2.2rem;
        }
        
        h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.5rem;
        }
        
        .standard-time {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 20px;
        }
        
        .time-item {
            background: linear-gradient(to right, #3498db, #2980b9);
            color: white;
            padding: 10px 20px;
            border-radius: 10px;
            font-weight: bold;
            box-shadow: 0 3px 10px rgba(52, 152, 219, 0.3);
        }
        
        .input-section {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .input-tabs {
            display: flex;
            border-bottom: 2px solid #eee;
            margin-bottom: 20px;
        }
        
        .tab {
            padding: 12px 25px;
            background: none;
            border: none;
            font-size: 16px;
            cursor: pointer;
            color: #7f8c8d;
            font-weight: 600;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }
        
        .tab.active {
            color: #3498db;
            border-bottom: 3px solid #3498db;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .input-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .input-field {
            display: flex;
            flex-direction: column;
        }
        
        label {
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
        }
        
        input, select, button {
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        input:focus, select:focus {
            border-color: #3498db;
            outline: none;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }
        
        select {
            background: white;
            cursor: pointer;
        }
        
        button {
            background: linear-gradient(to right, #2ecc71, #27ae60);
            color: white;
            border: none;
            cursor: pointer;
            font-weight: bold;
            margin: 0 5px;
            min-width: 120px;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(46, 204, 113, 0.4);
        }
        
        button.secondary {
            background: linear-gradient(to right, #3498db, #2980b9);
        }
        
        .button-group {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 20px;
        }
        
        .result-section {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .result-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 5px solid #3498db;
        }
        
        .result-title {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .result-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 10px;
        }
        
        .result-detail {
            background: white;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #eee;
        }
        
        .detail-label {
            font-size: 0.9rem;
            color: #7f8c8d;
        }
        
        .detail-value {
            font-weight: 600;
            color: #2c3e50;
            margin-top: 5px;
        }
        
        .data-table {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            overflow-x: auto;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }
        
        th {
            background: linear-gradient(to right, #3498db, #2980b9);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }
        
        td {
            padding: 12px 15px;
            border-bottom: 1px solid #eee;
        }
        
        tr:hover {
            background: #f8f9fa;
        }
        
        .highlight {
            background: #fffde7 !important;
            border-left: 4px solid #ffeb3b;
        }
        
        .loading {
            text-align: center;
            padding: 20px;
            color: #7f8c8d;
        }
        
        @media (max-width: 768px) {
            .input-group {
                grid-template-columns: 1fr;
            }
            
            .button-group {
                flex-direction: column;
            }
            
            button {
                width: 100%;
                margin: 5px 0;
            }
            
            .result-content {
                grid-template-columns: 1fr;
            }
            
            .input-tabs {
                flex-direction: column;
            }
            
            .tab {
                width: 100%;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Tra Cứu Can Chi Ngũ Hành</h1>
            <p>Nhập thông tin để tra cứu thông tin chi tiết theo Can Chi hoặc Dương lịch</p>
            
            <div class="standard-time">
                <div class="time-item">Ngày chuẩn: 18/12/2025</div>
                <div class="time-item">10 giờ Quý Tỵ</div>
                <div class="time-item">29 Ngày Tân Dậu</div>
                <div class="time-item">10 Tháng Đinh Hợi</div>
                <div class="time-item">2025 Năm Ất Tỵ</div>
            </div>
        </div>
        
        <div class="input-section">
            <div class="input-tabs">
                <button class="tab active" data-tab="canchi">Nhập Can Chi</button>
                <button class="tab" data-tab="solar">Nhập Dương Lịch</button>
            </div>
            
            <div id="canchi-tab" class="tab-content active">
                <h2>Nhập Thông Tin Can Chi</h2>
                <div class="input-group">
                    <div class="input-field">
                        <label for="hour">Giờ (Can Chi):</label>
                        <select id="hour">
                            <option value="">Chọn giờ</option>
                            <!-- Giờ sẽ được thêm bằng JavaScript -->
                        </select>
                    </div>
                    
                    <div class="input-field">
                        <label for="day">Ngày (Can Chi):</label>
                        <select id="day">
                            <option value="">Chọn ngày</option>
                            <!-- Ngày sẽ được thêm bằng JavaScript -->
                        </select>
                    </div>
                    
                    <div class="input-field">
                        <label for="month">Tháng (Can Chi):</label>
                        <select id="month">
                            <option value="">Chọn tháng</option>
                            <!-- Tháng sẽ được thêm bằng JavaScript -->
                        </select>
                    </div>
                    
                    <div class="input-field">
                        <label for="year">Năm (Can Chi):</label>
                        <select id="year">
                            <option value="">Chọn năm</option>
                            <!-- Năm sẽ được thêm bằng JavaScript -->
                        </select>
                    </div>
                </div>
                
                <div class="button-group">
                    <button id="calculateForward">Tính Xuôi</button>
                    <button id="calculateBackward">Tính Ngược</button>
                    <button id="reset">Nhập Lại</button>
                </div>
            </div>
            
            <div id="solar-tab" class="tab-content">
                <h2>Nhập Thông Tin Dương Lịch</h2>
                <div class="input-group">
                    <div class="input-field">
                        <label for="solarHour">Giờ (0-23):</label>
                        <input type="number" id="solarHour" min="0" max="23" value="10">
                    </div>
                    
                    <div class="input-field">
                        <label for="solarDay">Ngày:</label>
                        <input type="number" id="solarDay" min="1" max="31" value="18">
                    </div>
                    
                    <div class="input-field">
                        <label for="solarMonth">Tháng:</label>
                        <input type="number" id="solarMonth" min="1" max="12" value="12">
                    </div>
                    
                    <div class="input-field">
                        <label for="solarYear">Năm:</label>
                        <input type="number" id="solarYear" min="1900" max="2100" value="2025">
                    </div>
                </div>
                
                <div class="button-group">
                    <button id="calculateFromSolar" class="secondary">Tính Can Chi</button>
                    <button id="calculateToSolar" class="secondary">Tính Dương Lịch</button>
                </div>
            </div>
        </div>
        
        <div class="result-section" id="resultSection" style="display: none;">
            <h2>Kết Quả Tra Cứu</h2>
            <div id="resultContent">
                <!-- Kết quả sẽ được hiển thị ở đây -->
            </div>
        </div>
        
        <div class="data-table">
            <h2>Bảng Tra Cứu Chi Tiết (60 Hoa Giáp)</h2>
            <div class="loading">Đang tải dữ liệu...</div>
            <table id="dataTable" style="display: none;">
                <thead>
                    <tr>
                        <th>STT</th>
                        <th>Can Chi</th>
                        <th>Ý Nghĩa</th>
                        <th>Âm Dương Ngũ Hành</th>
                        <th>Mệnh</th>
                        <th>Quẻ 1</th>
                        <th>Quẻ 2</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                    <!-- Dữ liệu sẽ được thêm bằng JavaScript -->
                </tbody>
            </table>
        </div>
    </div>

    <script>
        // Dữ liệu bảng tra cứu
        const data = [
            {id: 1, canChi: "Giáp Tý", yNghia: "Ốc Thượng Chi Thử (Chuột ở nóc nhà)", amDuong: "Kim +", menh: "Hải Trung Kim (Vàng trong biển)", que1: "Đoài Kim", que2: "Cấn Thổ"},
            {id: 2, canChi: "Ất Sửu", yNghia: "Hải Nội Chi Ngưu (Trâu trong biển)", amDuong: "Kim -", menh: "Hải Trung Kim (Vàng trong biển)", que1: "Càn Kim", que2: "Ly Hoả"},
            {id: 3, canChi: "Bính Dần", yNghia: "Sơn Lâm Chi Hổ (Hổ trong rừng)", amDuong: "Hỏa +", menh: "Lư Trung Hỏa (Lửa trong lò)", que1: "Khôn Thổ", que2: "Khảm Thuỷ"},
            {id: 4, canChi: "Đinh Mão", yNghia: "Vọng Nguyệt Chi Thố (Thỏ ngắm trăng)", amDuong: "Hỏa -", menh: "Lư Trung Hỏa (Lửa trong lò)", que1: "Tốn Mộc", que2: "Khôn Thổ"},
            {id: 5, canChi: "Mậu Thìn", yNghia: "Thanh Ôn Chi Long (Rồng ôn hoà)", amDuong: "Mộc +", menh: "Đại Lâm Mộc (Gỗ rừng già)", que1: "Chấn Mộc", que2: "Chấn Mộc"},
            {id: 6, canChi: "Kỷ Tỵ", yNghia: "Phúc Khí Chi Xà (Rắn có phúc)", amDuong: "Mộc -", menh: "Đại Lâm Mộc (Gỗ rừng già)", que1: "Khôn Thổ", que2: "Tốn Mộc"},
            {id: 7, canChi: "Canh Ngọ", yNghia: "Thất Lý Chi Mã (Ngựa trong nhà)", amDuong: "Thổ +", menh: "Lộ Bàng Thổ (Đất đường đi)", que1: "Đoài Kim", que2: "Cấn Thổ"},
            {id: 8, canChi: "Tân Mùi", yNghia: "Đắc Lộc Chi Dương (Dê có lộc)", amDuong: "Thổ -", menh: "Lộ Bàng Thổ (Đất đường đi)", que1: "Càn Kim", que2: "Ly Hoả"},
            {id: 9, canChi: "Nhâm Thân", yNghia: "Thanh Tú Chi Hầu (Khỉ thanh tú)", amDuong: "Kim +", menh: "Kiếm Phong Kim (Vàng mũi kiếm)", que1: "Khôn Thổ", que2: "Khảm Thuỷ"},
            {id: 10, canChi: "Quý Dậu", yNghia: "Lâu Túc Kê (Gà nhà gác)", amDuong: "Kim -", menh: "Kiếm Phong Kim (Vàng mũi kiếm)", que1: "Tốn Mộc", que2: "Khôn Thổ"},
            {id: 11, canChi: "Giáp Tuất", yNghia: "Thủ Thân Chi Cẩu (Chó giữ mình)", amDuong: "Hỏa +", menh: "Sơn Đầu Hỏa (Lửa trên núi)", que1: "Chấn Mộc", que2: "Chấn Mộc"},
            {id: 12, canChi: "Ất Hợi", yNghia: "Quá Vãng Chi Trư (Lợn hay đi)", amDuong: "Hỏa -", menh: "Sơn Đầu Hỏa (Lửa trên núi)", que1: "Khôn Thổ", que2: "Tốn Mộc"},
            {id: 13, canChi: "Bính Tý", yNghia: "Điền Nội Chi Thử (Chuột trong ruộng)", amDuong: "Thủy +", menh: "Giản Hạ Thủy (Nước khe suối)", que1: "Khảm Thuỷ", que2: "Khôn Thổ"},
            {id: 14, canChi: "Đinh Sửu", yNghia: "Hồ Nội Chi Ngưu (Trâu trong hồ nước)", amDuong: "Thủy -", menh: "Giản Hạ Thủy (Nước khe suối)", que1: "Ly Hoả", que2: "Càn Kim"},
            {id: 15, canChi: "Mậu Dần", yNghia: "Quá Sơn Chi Hổ (Hổ qua rừng)", amDuong: "Thổ +", menh: "Thành Đầu Thổ (Đất trên thành)", que1: "Cấn Thổ", que2: "Đoài Kim"},
            {id: 16, canChi: "Kỷ Mão", yNghia: "Sơn Lâm Chi Thố (Thỏ ở rừng)", amDuong: "Thổ -", menh: "Thành Đầu Thổ (Đất trên thành)", que1: "Đoài Kim", que2: "Cấn Thổ"},
            {id: 17, canChi: "Canh Thìn", yNghia: "Thứ Tính Chi Long (Rồng khoan dung)", amDuong: "Kim +", menh: "Bạch Lạp Kim (Vàng sáp ong)", que1: "Càn Kim", que2: "Ly Hoả"},
            {id: 18, canChi: "Tân Tỵ", yNghia: "Đông Tàng Chi Xà (Rắn ngủ đông)", amDuong: "Kim -", menh: "Bạch Lạp Kim (Vàng sáp ong)", que1: "Khôn Thổ", que2: "Khảm Thuỷ"},
            {id: 19, canChi: "Nhâm Ngọ", yNghia: "Quân Trung Chi Mã (Ngựa chiến)", amDuong: "Mộc +", menh: "Dương Liễu Mộc (Gỗ cây dương)", que1: "Tốn Mộc", que2: "Khôn Thổ"},
            {id: 20, canChi: "Quý Mùi", yNghia: "Quần Nội Chi Dương (Dê trong đàn)", amDuong: "Mộc -", menh: "Dương Liễu Mộc (Gỗ cây dương)", que1: "Chấn Mộc", que2: "Chấn Mộc"},
            {id: 21, canChi: "Giáp Thân", yNghia: "Quá Thụ Chi Hầu (Khỉ leo cây)", amDuong: "Thủy +", menh: "Tuyền Trung Thủy (Nước trong suối)", que1: "Khôn Thổ", que2: "Tốn Mộc"},
            {id: 22, canChi: "Ất Dậu", yNghia: "Xướng Ngọ Chi Kê (Gà gáy trưa)", amDuong: "Thủy -", menh: "Tuyền Trung Thủy (Nước trong suối)", que1: "Khảm Thuỷ", que2: "Khôn Thổ"},
            {id: 23, canChi: "Bính Tuất", yNghia: "Tự Miên Chi Cẩu (Chó đang ngủ)", amDuong: "Thổ +", menh: "Ốc Thượng Thổ (Đất nóc nhà)", que1: "Ly Hoả", que2: "Càn Kim"},
            {id: 24, canChi: "Đinh Hợi", yNghia: "Quá Sơn Chi Trư (Lợn qua núi)", amDuong: "Thổ -", menh: "Ốc Thượng Thổ (Đất nóc nhà)", que1: "Cấn Thổ", que2: "Đoài Kim"},
            {id: 25, canChi: "Mậu Tý", yNghia: "Thương Nội Chi Trư (Chuột trong kho)", amDuong: "Hỏa +", menh: "Thích Lịch Hỏa (Lửa sấm sét)", que1: "Đoài Kim", que2: "Cấn Thổ"},
            {id: 26, canChi: "Kỷ Sửu", yNghia: "Lâm Nội Chi Ngưu (Trâu trong chuồng)", amDuong: "Hỏa -", menh: "Thích Lịch Hỏa (Lửa sấm sét)", que1: "Càn Kim", que2: "Ly Hoả"},
            {id: 27, canChi: "Canh Dần", yNghia: "Xuất Sơn Chi Hổ (Hổ xuống núi)", amDuong: "Mộc +", menh: "Tùng Bách Mộc (Gỗ tùng bách)", que1: "Khôn Thổ", que2: "Khảm Thuỷ"},
            {id: 28, canChi: "Tân Mão", yNghia: "Ẩn Huyệt Chi Thố (Thỏ trong hang)", amDuong: "Mộc -", menh: "Tùng Bách Mộc (Gỗ tùng bách)", que1: "Tốn Mộc", que2: "Khôn Thổ"},
            {id: 29, canChi: "Nhâm Thìn", yNghia: "Hành Vũ Chi Long (Rồng phun mưa)", amDuong: "Thủy +", menh: "Trường Lưu Thủy (Nước chảy mạnh)", que1: "Chấn Mộc", que2: "Chấn Mộc"},
            {id: 30, canChi: "Quý Tỵ", yNghia: "Thảo Trung Chi Xà (Rắn trong cỏ)", amDuong: "Thủy -", menh: "Trường Lưu Thủy (Nước chảy mạnh)", que1: "Khôn Thổ", que2: "Tốn Mộc"},
            {id: 31, canChi: "Giáp Ngọ", yNghia: "Vân Trung Chi Mã (Ngựa trong mây)", amDuong: "Kim +", menh: "Sa Trung Kim (Vàng trong cát)", que1: "Khảm Thuỷ", que2: "Khôn Thổ"},
            {id: 32, canChi: "Ất Mùi", yNghia: "Kính Trọng Chi Dương (Dê được quý mến)", amDuong: "Kim -", menh: "Sa Trung Kim (Vàng trong cát)", que1: "Ly Hoả", que2: "Càn Kim"},
            {id: 33, canChi: "Bính Thân", yNghia: "Sơn Thượng Chi Hầu (Khỉ trên núi)", amDuong: "Hỏa +", menh: "Sơn Hạ Hỏa (Lửa trên núi)", que1: "Cấn Thổ", que2: "Đoài Kim"},
            {id: 34, canChi: "Đinh Dậu", yNghia: "Độc Lập Chi Kê (Gà độc thân)", amDuong: "Hỏa -", menh: "Sơn Hạ Hỏa (Lửa trên núi)", que1: "Đoài Kim", que2: "Cấn Thổ"},
            {id: 35, canChi: "Mậu Tuất", yNghia: "Tiến Sơn Chi Cẩu (Chó vào núi)", amDuong: "Mộc +", menh: "Bình Địa Mộc (Gỗ đồng bằng)", que1: "Càn Kim", que2: "Ly Hoả"},
            {id: 36, canChi: "Kỷ Hợi", yNghia: "Đạo Viện Chi Trư (Lợn trong tu viện)", amDuong: "Mộc -", menh: "Bình Địa Mộc (Gỗ đồng bằng)", que1: "Khôn Thổ", que2: "Khảm Thuỷ"},
            {id: 37, canChi: "Canh Tý", yNghia: "Lương Thượng Chi Thử (Chuột trên xà)", amDuong: "Thổ +", menh: "Bích Thượng Thổ (Đất tò vò)", que1: "Tốn Mộc", que2: "Khôn Thổ"},
            {id: 38, canChi: "Tân Sửu", yNghia: "Lộ Đồ Chi Ngưu (Trâu trên đường)", amDuong: "Thổ -", menh: "Bích Thượng Thổ (Đất tò vò)", que1: "Chấn Mộc", que2: "Chấn Mộc"},
            {id: 39, canChi: "Nhâm Dần", yNghia: "Quá Lâm Chi Hổ (Hổ qua rừng)", amDuong: "Kim +", menh: "Kim Bạch Kim (Vàng pha bạc)", que1: "Khôn Thổ", que2: "Tốn Mộc"},
            {id: 40, canChi: "Quý Mão", yNghia: "Quá Lâm Chi Thố (Thỏ qua rừng)", amDuong: "Kim -", menh: "Kim Bạch Kim (Vàng pha bạc)", que1: "Khảm Thuỷ", que2: "Khôn Thổ"},
            {id: 41, canChi: "Giáp Thìn", yNghia: "Phục Đầm Chi Lâm (Rồng ẩn ở đầm)", amDuong: "Hỏa +", menh: "Phú Đăng Hỏa (Lửa đèn to)", que1: "Ly Hoả", que2: "Càn Kim"},
            {id: 42, canChi: "Ất Tỵ", yNghia: "Xuất Huyệt Chi Xà (Rắn rời hang)", amDuong: "Hỏa -", menh: "Phú Đăng Hỏa (Lửa đèn to)", que1: "Cấn Thổ", que2: "Đoài Kim"},
            {id: 43, canChi: "Bính Ngọ", yNghia: "Hành Lộ Chi Mã (Ngựa chạy trên đường)", amDuong: "Thủy +", menh: "Thiên Hà Thủy (Nước trên trời)", que1: "Đoài Kim", que2: "Cấn Thổ"},
            {id: 44, canChi: "Đinh Mùi", yNghia: "Thất Quần Chi Dương (Dê lạc đàn)", amDuong: "Thủy -", menh: "Thiên Hà Thủy (Nước trên trời)", que1: "Càn Kim", que2: "Ly Hoả"},
            {id: 45, canChi: "Mậu Thân", yNghia: "Độc Lập Chi Hầu (Khỉ độc thân)", amDuong: "Thổ +", menh: "Đại Trạch Thổ (Đất nền nhà)", que1: "Khôn Thổ", que2: "Khảm Thuỷ"},
            {id: 46, canChi: "Kỷ Dậu", yNghia: "Báo Hiệu Chi Kê (Gà gáy)", amDuong: "Thổ -", menh: "Đại Trạch Thổ (Đất nền nhà)", que1: "Tốn Mộc", que2: "Khôn Thổ"},
            {id: 47, canChi: "Canh Tuất", yNghia: "Tự Quan Chi Cẩu (Chó nhà chùa)", amDuong: "Kim +", menh: "Thoa Xuyến Kim (Vàng trang sức)", que1: "Chấn Mộc", que2: "Chấn Mộc"},
            {id: 48, canChi: "Tân Hợi", yNghia: "Khuyên Dưỡng Chi Trư (Lợn nuôi nhốt)", amDuong: "Kim -", menh: "Thoa Xuyến Kim (Vàng trang sức)", que1: "Khôn Thổ", que2: "Tốn Mộc"},
            {id: 49, canChi: "Nhâm Tý", yNghia: "Sơn Thượng Chi Thử (Chuột trên núi)", amDuong: "Mộc +", menh: "Tang Đố Mộc (Gỗ cây dâu)", que1: "Khảm Thuỷ", que2: "Khôn Thổ"},
            {id: 50, canChi: "Quý Sửu", yNghia: "Lan Ngoại Chi Ngưu (Trâu ngoài chuồng)", amDuong: "Mộc -", menh: "Tang Đố Mộc (Gỗ cây dâu)", que1: "Ly Hoả", que2: "Càn Kim"},
            {id: 51, canChi: "Giáp Dần", yNghia: "Lập Định Chi Hổ (Hổ tự lập)", amDuong: "Thủy +", menh: "Đại Khe Thủy (Nước khe lớn)", que1: "Cấn Thổ", que2: "Đoài Kim"},
            {id: 52, canChi: "Ất Mão", yNghia: "Đắc Đạo Chi Thố (Thỏ đắc đạo)", amDuong: "Thủy -", menh: "Đại Khe Thủy (Nước khe lớn)", que1: "Đoài Kim", que2: "Cấn Thổ"},
            {id: 53, canChi: "Bính Thìn", yNghia: "Thiên Thượng Chi Long (Rồng trên trời)", amDuong: "Thổ +", menh: "Sa Trung Thổ (Đất pha cát)", que1: "Càn Kim", que2: "Ly Hoả"},
            {id: 54, canChi: "Đinh Tỵ", yNghia: "Đầm Nội Chi Xà (Rắn trong đầm)", amDuong: "Thổ -", menh: "Sa Trung Thổ (Đất pha cát)", que1: "Khôn Thổ", que2: "Khảm Thuỷ"},
            {id: 55, canChi: "Mậu Ngọ", yNghia: "Cứu Nội Chi Mã (Ngựa trong chuồng)", amDuong: "Hỏa +", menh: "Thiên Thượng Hỏa (Lửa trên trời)", que1: "Tốn Mộc", que2: "Khôn Thổ"},
            {id: 56, canChi: "Kỷ Mùi", yNghia: "Thảo Dã Chi Dương (Dê đồng cỏ)", amDuong: "Hỏa -", menh: "Thiên Thượng Hỏa (Lửa trên trời)", que1: "Chấn Mộc", que2: "Chấn Mộc"},
            {id: 57, canChi: "Canh Thân", yNghia: "Thực Quả Chi Hầu (Khỉ ăn hoa quả)", amDuong: "Mộc +", menh: "Thạch Lựu Mộc (Gỗ cây lựu đá)", que1: "Khôn Thổ", que2: "Tốn Mộc"},
            {id: 58, canChi: "Tân Dậu", yNghia: "Long Tàng Chi Kê (Gà trong lồng)", amDuong: "Mộc -", menh: "Thạch Lựu Mộc (Gỗ cây lựu đá)", que1: "Khảm Thuỷ", que2: "Khôn Thổ"},
            {id: 59, canChi: "Nhâm Tuất", yNghia: "Cố Gia Chi Khuyển (Chó về nhà)", amDuong: "Thủy +", menh: "Đại Hải Thủy (Nước biển lớn)", que1: "Ly Hoả", que2: "Càn Kim"},
            {id: 60, canChi: "Quý Hợi", yNghia: "Lâm Hạ Chi Trư (Lợn trong rừng)", amDuong: "Thủy -", menh: "Đại Hải Thủy (Nước biển lớn)", que1: "Cấn Thổ", que2: "Đoài Kim"}
        ];

        // Ngày chuẩn (18/12/2025 10:00)
        const STANDARD_DATE = {
            year: 2025,
            month: 12,
            day: 18,
            hour: 10,
            canChi: {
                hour: "Quý Tỵ",
                day: "Tân Dậu",
                month: "Đinh Hợi",
                year: "Ất Tỵ"
            }
        };

        // Hàm tìm kiếm thông tin theo can chi
        function findInfoByCanChi(canChi) {
            return data.find(item => item.canChi === canChi);
        }

        // Hàm tìm chỉ số của Can Chi
        function findIndexByCanChi(canChi) {
            return data.findIndex(item => item.canChi === canChi);
        }

        // Hàm lấy Can Chi từ chỉ số
        function getCanChiByIndex(index) {
            // Xử lý index âm hoặc vượt quá
            while (index < 0) index += 60;
            while (index >= 60) index -= 60;
            return data[index].canChi;
        }

        // Hàm tính số ngày giữa hai ngày
        function getDaysBetween(date1, date2) {
            const oneDay = 24 * 60 * 60 * 1000; // miliseconds trong một ngày
            const firstDate = new Date(date1.year, date1.month - 1, date1.day);
            const secondDate = new Date(date2.year, date2.month - 1, date2.day);
            const diffDays = Math.round((secondDate - firstDate) / oneDay);
            return diffDays;
        }

        // Hàm tính Can Chi từ ngày dương lịch
        function calculateCanChiFromSolar(solarDate) {
            const daysDiff = getDaysBetween(STANDARD_DATE, solarDate);
            const hoursDiff = (daysDiff * 24) + (solarDate.hour - STANDARD_DATE.hour);
            
            // Tính chỉ số của từng Can Chi dựa trên ngày chuẩn
            const hourIndex = findIndexByCanChi(STANDARD_DATE.canChi.hour);
            const dayIndex = findIndexByCanChi(STANDARD_DATE.canChi.day);
            const monthIndex = findIndexByCanChi(STANDARD_DATE.canChi.month);
            const yearIndex = findIndexByCanChi(STANDARD_DATE.canChi.year);
            
            // Tính chỉ số mới
            const newHourIndex = (hourIndex + hoursDiff) % 60;
            const newDayIndex = (dayIndex + daysDiff) % 60;
            
            // Tính tháng: mỗi tháng âm lịch khoảng 29.53 ngày
            const monthsDiff = Math.floor(daysDiff / 29.53);
            const newMonthIndex = (monthIndex + monthsDiff) % 60;
            
            // Tính năm: mỗi năm âm lịch khoảng 354.37 ngày
            const yearsDiff = Math.floor(daysDiff / 354.37);
            const newYearIndex = (yearIndex + yearsDiff) % 60;
            
            return {
                hour: getCanChiByIndex(newHourIndex),
                day: getCanChiByIndex(newDayIndex),
                month: getCanChiByIndex(newMonthIndex),
                year: getCanChiByIndex(newYearIndex)
            };
        }

        // Hàm tính ngày dương lịch từ Can Chi
        function calculateSolarFromCanChi(canChiInput) {
            // Tìm chỉ số của Can Chi nhập vào
            const hourIndex = findIndexByCanChi(canChiInput.hour);
            const dayIndex = findIndexByCanChi(canChiInput.day);
            const monthIndex = findIndexByCanChi(canChiInput.month);
            const yearIndex = findIndexByCanChi(canChiInput.year);
            
            // Tìm chỉ số của Can Chi chuẩn
            const stdHourIndex = findIndexByCanChi(STANDARD_DATE.canChi.hour);
            const stdDayIndex = findIndexByCanChi(STANDARD_DATE.canChi.day);
            const stdMonthIndex = findIndexByCanChi(STANDARD_DATE.canChi.month);
            const stdYearIndex = findIndexByCanChi(STANDARD_DATE.canChi.year);
            
            // Tính khoảng cách (có thể âm)
            const hourDiff = hourIndex - stdHourIndex;
            const dayDiff = dayIndex - stdDayIndex;
            const monthDiff = monthIndex - stdMonthIndex;
            const yearDiff = yearIndex - stdYearIndex;
            
            // Điều chỉnh khoảng cách về khoảng -30 đến 30
            let adjustedHourDiff = hourDiff;
            let adjustedDayDiff = dayDiff;
            let adjustedMonthDiff = monthDiff;
            let adjustedYearDiff = yearDiff;
            
            if (hourDiff > 30) adjustedHourDiff = hourDiff - 60;
            if (hourDiff < -30) adjustedHourDiff = hourDiff + 60;
            
            if (dayDiff > 30) adjustedDayDiff = dayDiff - 60;
            if (dayDiff < -30) adjustedDayDiff = dayDiff + 60;
            
            if (monthDiff > 30) adjustedMonthDiff = monthDiff - 60;
            if (monthDiff < -30) adjustedMonthDiff = monthDiff + 60;
            
            if (yearDiff > 30) adjustedYearDiff = yearDiff - 60;
            if (yearDiff < -30) adjustedYearDiff = yearDiff + 60;
            
            // Tính ngày dựa trên ngày chênh lệch
            const daysFromDayDiff = adjustedDayDiff;
            const monthsFromMonthDiff = adjustedMonthDiff * 29.53;
            const yearsFromYearDiff = adjustedYearDiff * 354.37;
            
            // Ưu tiên sử dụng chênh lệch ngày vì chính xác nhất
            const totalDays = daysFromDayDiff;
            
            // Tính ngày mới
            const standardDateObj = new Date(STANDARD_DATE.year, STANDARD_DATE.month - 1, STANDARD_DATE.day);
            const newDateObj = new Date(standardDateObj);
            newDateObj.setDate(standardDateObj.getDate() + totalDays);
            
            // Tính giờ mới
            const hourOffset = adjustedHourDiff;
            const newHour = (STANDARD_DATE.hour + hourOffset) % 24;
            if (newHour < 0) newHour += 24;
            
            return {
                year: newDateObj.getFullYear(),
                month: newDateObj.getMonth() + 1,
                day: newDateObj.getDate(),
                hour: Math.floor(newHour)
            };
        }

        // Hàm tạo option cho select
        function populateSelectOptions() {
            const hourSelect = document.getElementById('hour');
            const daySelect = document.getElementById('day');
            const monthSelect = document.getElementById('month');
            const yearSelect = document.getElementById('year');
            
            data.forEach(item => {
                const option = document.createElement('option');
                option.value = item.canChi;
                option.textContent = item.canChi;
                
                hourSelect.appendChild(option.cloneNode(true));
                daySelect.appendChild(option.cloneNode(true));
                monthSelect.appendChild(option.cloneNode(true));
                yearSelect.appendChild(option.cloneNode(true));
            });
            
            // Đặt giá trị mặc định theo thời gian chuẩn
            hourSelect.value = STANDARD_DATE.canChi.hour;
            daySelect.value = STANDARD_DATE.canChi.day;
            monthSelect.value = STANDARD_DATE.canChi.month;
            yearSelect.value = STANDARD_DATE.canChi.year;
        }

        // Hàm tạo bảng dữ liệu
        function populateDataTable() {
            const tableBody = document.getElementById('tableBody');
            const loading = document.querySelector('.loading');
            const dataTable = document.getElementById('dataTable');
            
            data.forEach(item => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${item.id}</td>
                    <td><strong>${item.canChi}</strong></td>
                    <td>${item.yNghia}</td>
                    <td>${item.amDuong}</td>
                    <td>${item.menh}</td>
                    <td>${item.que1}</td>
                    <td>${item.que2}</td>
                `;
                tableBody.appendChild(row);
            });
            
            loading.style.display = 'none';
            dataTable.style.display = 'table';
        }

        // Hàm tính toán và hiển thị kết quả từ Can Chi
        function calculateFromCanChi(direction) {
            const hour = document.getElementById('hour').value;
            const day = document.getElementById('day').value;
            const month = document.getElementById('month').value;
            const year = document.getElementById('year').value;
            
            if (!hour || !day || !month || !year) {
                alert("Vui lòng chọn đầy đủ giờ, ngày, tháng, năm!");
                return;
            }
            
            const hourInfo = findInfoByCanChi(hour);
            const dayInfo = findInfoByCanChi(day);
            const monthInfo = findInfoByCanChi(month);
            const yearInfo = findInfoByCanChi(year);
            
            if (!hourInfo || !dayInfo || !monthInfo || !yearInfo) {
                alert("Không tìm thấy thông tin cho một hoặc nhiều giá trị đã chọn!");
                return;
            }
            
            const resultSection = document.getElementById('resultSection');
            const resultContent = document.getElementById('resultContent');
            
            let items;
            if (direction === 'forward') {
                items = [
                    {label: "Giờ", info: hourInfo},
                    {label: "Ngày", info: dayInfo},
                    {label: "Tháng", info: monthInfo},
                    {label: "Năm", info: yearInfo}
                ];
            } else {
                items = [
                    {label: "Năm", info: yearInfo},
                    {label: "Tháng", info: monthInfo},
                    {label: "Ngày", info: dayInfo},
                    {label: "Giờ", info: hourInfo}
                ];
            }
            
            let html = '';
            items.forEach(item => {
                html += `
                    <div class="result-item">
                        <div class="result-title">${item.label}: ${item.info.canChi}</div>
                        <div class="result-content">
                            <div class="result-detail">
                                <div class="detail-label">Ý Nghĩa:</div>
                                <div class="detail-value">${item.info.yNghia}</div>
                            </div>
                            <div class="result-detail">
                                <div class="detail-label">Âm Dương Ngũ Hành:</div>
                                <div class="detail-value">${item.info.amDuong}</div>
                            </div>
                            <div class="result-detail">
                                <div class="detail-label">Mệnh:</div>
                                <div class="detail-value">${item.info.menh}</div>
                            </div>
                            <div class="result-detail">
                                <div class="detail-label">Quẻ 1:</div>
                                <div class="detail-value">${item.info.que1}</div>
                            </div>
                            <div class="result-detail">
                                <div class="detail-label">Quẻ 2:</div>
                                <div class="detail-value">${item.info.que2}</div>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            resultContent.innerHTML = html;
            resultSection.style.display = 'block';
            
            // Highlight các dòng trong bảng
            highlightTableRows([hourInfo.id, dayInfo.id, monthInfo.id, yearInfo.id]);
        }

        // Hàm tính toán từ ngày dương lịch
        function calculateFromSolar() {
            const hour = parseInt(document.getElementById('solarHour').value);
            const day = parseInt(document.getElementById('solarDay').value);
            const month = parseInt(document.getElementById('solarMonth').value);
            const year = parseInt(document.getElementById('solarYear').value);
            
            if (isNaN(hour) || isNaN(day) || isNaN(month) || isNaN(year)) {
                alert("Vui lòng nhập đầy đủ thông tin!");
                return;
            }
            
            if (hour < 0 || hour > 23) {
                alert("Giờ phải từ 0 đến 23!");
                return;
            }
            
            if (day < 1 || day > 31) {
                alert("Ngày không hợp lệ!");
                return;
            }
            
            if (month < 1 || month > 12) {
                alert("Tháng không hợp lệ!");
                return;
            }
            
            const solarDate = { year, month, day, hour };
            const canChiResult = calculateCanChiFromSolar(solarDate);
            
            const hourInfo = findInfoByCanChi(canChiResult.hour);
            const dayInfo = findInfoByCanChi(canChiResult.day);
            const monthInfo = findInfoByCanChi(canChiResult.month);
            const yearInfo = findInfoByCanChi(canChiResult.year);
            
            const resultSection = document.getElementById('resultSection');
            const resultContent = document.getElementById('resultContent');
            
            let html = `
                <div class="result-item">
                    <div class="result-title">Ngày Dương Lịch Nhập: ${day}/${month}/${year} - ${hour} giờ</div>
                </div>
            `;
            
            const items = [
                {label: "Giờ", info: hourInfo},
                {label: "Ngày", info: dayInfo},
                {label: "Tháng", info: monthInfo},
                {label: "Năm", info: yearInfo}
            ];
            
            items.forEach(item => {
                if (item.info) {
                    html += `
                        <div class="result-item">
                            <div class="result-title">${item.label}: ${item.info.canChi}</div>
                            <div class="result-content">
                                <div class="result-detail">
                                    <div class="detail-label">Ý Nghĩa:</div>
                                    <div class="detail-value">${item.info.yNghia}</div>
                                </div>
                                <div class="result-detail">
                                    <div class="detail-label">Âm Dương Ngũ Hành:</div>
                                    <div class="detail-value">${item.info.amDuong}</div>
                                </div>
                                <div class="result-detail">
                                    <div class="detail-label">Mệnh:</div>
                                    <div class="detail-value">${item.info.menh}</div>
                                </div>
                                <div class="result-detail">
                                    <div class="detail-label">Quẻ 1:</div>
                                    <div class="detail-value">${item.info.que1}</div>
                                </div>
                                <div class="result-detail">
                                    <div class="detail-label">Quẻ 2:</div>
                                    <div class="detail-value">${item.info.que2}</div>
                                </div>
                            </div>
                        </div>
                    `;
                }
            });
            
            resultContent.innerHTML = html;
            resultSection.style.display = 'block';
            
            // Highlight các dòng trong bảng
            if (hourInfo && dayInfo && monthInfo && yearInfo) {
                highlightTableRows([hourInfo.id, dayInfo.id, monthInfo.id, yearInfo.id]);
            }
        }

        // Hàm tính ngày dương lịch từ Can Chi
        function calculateToSolar() {
            const hour = document.getElementById('hour').value;
            const day = document.getElementById('day').value;
            const month = document.getElementById('month').value;
            const year = document.getElementById('year').value;
            
            if (!hour || !day || !month || !year) {
                alert("Vui lòng chọn đầy đủ giờ, ngày, tháng, năm Can Chi!");
                return;
            }
            
            const canChiInput = { hour, day, month, year };
            const solarResult = calculateSolarFromCanChi(canChiInput);
            
            const resultSection = document.getElementById('resultSection');
            const resultContent = document.getElementById('resultContent');
            
            let html = `
                <div class="result-item">
                    <div class="result-title">Can Chi Nhập: Giờ ${hour} - Ngày ${day} - Tháng ${month} - Năm ${year}</div>
                </div>
                <div class="result-item">
                    <div class="result-title">Ngày Dương Lịch Tương Ứng (Gần Đúng):</div>
                    <div class="result-content">
                        <div class="result-detail">
                            <div class="detail-label">Giờ:</div>
                            <div class="detail-value">${solarResult.hour} giờ</div>
                        </div>
                        <div class="result-detail">
                            <div class="detail-label">Ngày:</div>
                            <div class="detail-value">${solarResult.day}</div>
                        </div>
                        <div class="result-detail">
                            <div class="detail-label">Tháng:</div>
                            <div class="detail-value">${solarResult.month}</div>
                        </div>
                        <div class="result-detail">
                            <div class="detail-label">Năm:</div>
                            <div class="detail-value">${solarResult.year}</div>
                        </div>
                    </div>
                </div>
                <div class="result-item">
                    <div class="result-title">Lưu ý:</div>
                    <div class="result-detail">
                        <div class="detail-value">Kết quả này là tính toán gần đúng dựa trên chu kỳ 60 Can Chi và ngày chuẩn 18/12/2025. 
                        Độ chính xác có thể sai lệch do sự khác biệt giữa lịch âm và dương.</div>
                    </div>
                </div>
            `;
            
            resultContent.innerHTML = html;
            resultSection.style.display = 'block';
            
            // Tìm và highlight các Can Chi tương ứng
            const hourInfo = findInfoByCanChi(hour);
            const dayInfo = findInfoByCanChi(day);
            const monthInfo = findInfoByCanChi(month);
            const yearInfo = findInfoByCanChi(year);
            
            if (hourInfo && dayInfo && monthInfo && yearInfo) {
                highlightTableRows([hourInfo.id, dayInfo.id, monthInfo.id, yearInfo.id]);
            }
        }

        // Hàm highlight các dòng trong bảng
        function highlightTableRows(ids) {
            const rows = document.querySelectorAll('#tableBody tr');
            rows.forEach(row => {
                row.classList.remove('highlight');
            });
            
            ids.forEach(id => {
                const row = document.querySelector(`#tableBody tr:nth-child(${id})`);
                if (row) {
                    row.classList.add('highlight');
                }
            });
        }

        // Hàm reset form
        function resetForm() {
            document.getElementById('hour').value = STANDARD_DATE.canChi.hour;
            document.getElementById('day').value = STANDARD_DATE.canChi.day;
            document.getElementById('month').value = STANDARD_DATE.canChi.month;
            document.getElementById('year').value = STANDARD_DATE.canChi.year;
            
            document.getElementById('solarHour').value = STANDARD_DATE.hour;
            document.getElementById('solarDay').value = STANDARD_DATE.day;
            document.getElementById('solarMonth').value = STANDARD_DATE.month;
            document.getElementById('solarYear').value = STANDARD_DATE.year;
            
            document.getElementById('resultSection').style.display = 'none';
            
            const rows = document.querySelectorAll('#tableBody tr');
            rows.forEach(row => {
                row.classList.remove('highlight');
            });
        }

        // Hàm chuyển tab
        function switchTab(tabName) {
            // Ẩn tất cả các tab content
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Hiện tab content được chọn
            document.getElementById(`${tabName}-tab`).classList.add('active');
            
            // Cập nhật trạng thái tab
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelector(`.tab[data-tab="${tabName}"]`).classList.add('active');
        }

        // Khởi tạo khi trang tải xong
        document.addEventListener('DOMContentLoaded', function() {
            populateSelectOptions();
            populateDataTable();
            
            // Gán sự kiện cho các nút
            document.getElementById('calculateForward').addEventListener('click', () => calculateFromCanChi('forward'));
            document.getElementById('calculateBackward').addEventListener('click', () => calculateFromCanChi('backward'));
            document.getElementById('reset').addEventListener('click', resetForm);
            document.getElementById('calculateFromSolar').addEventListener('click', calculateFromSolar);
            document.getElementById('calculateToSolar').addEventListener('click', calculateToSolar);
            
            // Gán sự kiện cho các tab
            document.querySelectorAll('.tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabName = this.getAttribute('data-tab');
                    switchTab(tabName);
                });
            });
            
            // Gán sự kiện cho ô nhập Can Chi để tự động chuyển sang tab Can Chi
            document.getElementById('hour').addEventListener('focus', () => switchTab('canchi'));
            document.getElementById('day').addEventListener('focus', () => switchTab('canchi'));
            document.getElementById('month').addEventListener('focus', () => switchTab('canchi'));
            document.getElementById('year').addEventListener('focus', () => switchTab('canchi'));
            
            // Gán sự kiện cho ô nhập Dương lịch để tự động chuyển sang tab Dương lịch
            document.getElementById('solarHour').addEventListener('focus', () => switchTab('solar'));
            document.getElementById('solarDay').addEventListener('focus', () => switchTab('solar'));
            document.getElementById('solarMonth').addEventListener('focus', () => switchTab('solar'));
            document.getElementById('solarYear').addEventListener('focus', () => switchTab('solar'));
        });
    </script>
</body>
</html>