<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T√≠nh Sinh Con Theo B√°t Qu√°i</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 600px; margin: 20px auto; padding: 20px; border: 1px solid #ccc; border-radius: 8px; }
        h2 { color: #333; }
        .input-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        input[type="number"] { width: 100%; padding: 8px; box-sizing: border-box; border: 1px solid #ddd; border-radius: 4px; }
        button { background-color: #4CAF50; color: white; padding: 10px 15px; border: none; border-radius: 4px; cursor: pointer; font-size: 16px; margin-top: 10px; }
        button:hover { background-color: #45a049; }
        #result { margin-top: 20px; padding: 15px; border: 2px solid #000; border-radius: 6px; background-color: #f9f9f9; }
        .quai { font-size: 24px; font-weight: bold; margin-top: 10px; line-height: 1.2; text-align: center; }
        .male { color: #007bff; }
        .female { color: #ff69b4; }
    </style>
</head>
<body>

    <h2>üë∂ D·ª± ƒêo√°n Gi·ªõi T√≠nh Theo Ph∆∞∆°ng Ph√°p B√°t Qu√°i</h2>
    <p>Nh·∫≠p **Tu·ªïi √Çm L·ªãch** v√† **Th√°ng Th·ª• Thai √Çm L·ªãch** ƒë·ªÉ t√≠nh qu·∫ª. (S·ª≠ d·ª•ng tu·ªïi m·ª• t√≠nh ƒë·∫øn nƒÉm d·ª± sinh).</p>

    <div class="input-group">
        <label for="tuoiChong">1. Tu·ªïi √Çm l·ªãch Ch·ªìng (m·ª•):</label>
        <input type="number" id="tuoiChong" placeholder="V√≠ d·ª•: 44" required>
    </div>

    <div class="input-group">
        <label for="thangThuThai">2. Th√°ng Th·ª• thai (√Çm l·ªãch):</label>
        <input type="number" id="thangThuThai" placeholder="V√≠ d·ª•: 1" required min="1" max="12">
    </div>

    <div class="input-group">
        <label for="tuoiVo">3. Tu·ªïi √Çm l·ªãch V·ª£ (m·ª•):</label>
        <input type="number" id="tuoiVo" placeholder="V√≠ d·ª•: 34" required>
    </div>

    <button onclick="calculateBatQuai()">T√≠nh Qu·∫ª</button>

    <div id="result">
        **K·∫øt Qu·∫£ D·ª± ƒêo√°n** s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y.
    </div>

    <script>
        // H√†m ch√≠nh ƒë·ªÉ ki·ªÉm tra ch·∫µn l·∫ª
        function isOdd(number) {
            return number % 2 !== 0; // L·∫ª l√† TRUE
        }

        // H√†m chuy·ªÉn ƒë·ªïi sang v·∫°ch (H√†o)
        function getHao(number) {
            return isOdd(number) ? '‚Äî' : '‚Äî ‚Äî'; // L·∫ª l√† v·∫°ch li·ªÅn, Ch·∫µn l√† v·∫°ch ƒë·ª©t
        }

        // H√†m ch√≠nh t√≠nh to√°n B√°t Qu√°i
        function calculateBatQuai() {
            const tuoiChong = parseInt(document.getElementById('tuoiChong').value);
            const thangThuThai = parseInt(document.getElementById('thangThuThai').value);
            const tuoiVo = parseInt(document.getElementById('tuoiVo').value);
            const resultDiv = document.getElementById('result');

            if (isNaN(tuoiChong) || isNaN(thangThuThai) || isNaN(tuoiVo)) {
                resultDiv.innerHTML = '<p style="color: red;">Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß tu·ªïi v√† th√°ng th·ª• thai.</p>';
                return;
            }

            // 1. X√°c ƒë·ªãnh V·∫°ch (H√†o) theo th·ª© t·ª±: Ch·ªìng - Th√°ng - V·ª£
            const haoChong = getHao(tuoiChong); // H√†o 1 (Tr√™n)
            const haoThang = getHao(thangThuThai); // H√†o 2 (Gi·ªØa)
            const haoVo = getHao(tuoiVo); // H√†o 3 (D∆∞·ªõi)

            const quaiArr = [haoChong, haoThang, haoVo];

            // 2. X√°c ƒë·ªãnh c·∫•u tr√∫c ch·∫µn/l·∫ª (0 = Ch·∫µn, 1 = L·∫ª)
            const isChongOdd = isOdd(tuoiChong) ? 1 : 0;
            const isThangOdd = isOdd(thangThuThai) ? 1 : 0;
            const isVoOdd = isOdd(tuoiVo) ? 1 : 0;
            
            // C·∫•u tr√∫c chu·ªói ƒë·ªÉ tra b·∫£ng (v√≠ d·ª•: 100 = L·∫ª - Ch·∫µn - Ch·∫µn)
            const quaiCode = `${isChongOdd}${isThangOdd}${isVoOdd}`;

            // 3. Tra b·∫£ng B√°t Qu√°i
            let quaiName = 'Kh√¥ng x√°c ƒë·ªãnh';
            let gender = 'Ch∆∞a r√µ';
            let genderClass = '';

            switch (quaiCode) {
                case '111': // L·∫ª-L·∫ª-L·∫ª: _ _ _
                    quaiName = 'C√†n';
                    gender = 'Trai';
                    genderClass = 'male';
                    break;
                case '000': // Ch·∫µn-Ch·∫µn-Ch·∫µn: ‚Äî ‚Äî ‚Äî
                    quaiName = 'Kh√¥n';
                    gender = 'G√°i';
                    genderClass = 'female';
                    break;
                case '001': // Ch·∫µn-Ch·∫µn-L·∫ª: ‚Äî ‚Äî _
                    quaiName = 'Ch·∫•n';
                    gender = 'Trai';
                    genderClass = 'male';
                    break;
                case '110': // L·∫ª-L·∫ª-Ch·∫µn: _ _ ‚Äî
                    quaiName = 'T·ªën';
                    gender = 'G√°i';
                    genderClass = 'female';
                    break;
                case '010': // Ch·∫µn-L·∫ª-Ch·∫µn: ‚Äî _ ‚Äî
                    quaiName = 'Kh·∫£m';
                    gender = 'Trai';
                    genderClass = 'male';
                    break;
                case '101': // L·∫ª-Ch·∫µn-L·∫ª: _ ‚Äî _
                    quaiName = 'Ly';
                    gender = 'G√°i';
                    genderClass = 'female';
                    break;
                case '100': // L·∫ª-Ch·∫µn-Ch·∫µn: _ ‚Äî ‚Äî
                    quaiName = 'C·∫•n';
                    gender = 'Trai';
                    genderClass = 'male';
                    break;
                case '011': // Ch·∫µn-L·∫ª-L·∫ª: ‚Äî _ _
                    quaiName = 'ƒêo√†i';
                    gender = 'G√°i';
                    genderClass = 'female';
                    break;
            }

            // 4. Hi·ªÉn th·ªã k·∫øt qu·∫£
            const quaiDisplay = quaiArr.map(h => `<div style="font-size: 20px;">${h}</div>`).join('');
            
            resultDiv.innerHTML = `
                <h3>Qu·∫ª c·ªßa B·∫°n l√†: Qu·∫ª **${quaiName}**</h3>
                <div class="quai">${quaiDisplay}</div>
                <p>Tu·ªïi Ch·ªìng: **${tuoiChong}** (${isChongOdd ? 'L·∫ª' : 'Ch·∫µn'})</p>
                <p>Th√°ng Th·ª• Thai: **${thangThuThai}** (${isThangOdd ? 'L·∫ª' : 'Ch·∫µn'})</p>
                <p>Tu·ªïi V·ª£: **${tuoiVo}** (${isVoOdd ? 'L·∫ª' : 'Ch·∫µn'})</p>
                <hr>
                <h4 class="${genderClass}">D·ª± ƒëo√°n: **${gender}**</h4>
            `;
        }

        // T·ª± ƒë·ªông ƒëi·ªÅn d·ªØ li·ªáu v√≠ d·ª• khi trang t·∫£i
        window.onload = function() {
            // S·ª≠ d·ª•ng v√≠ d·ª• t√≠nh to√°n ·ªü c√¢u tr·∫£ l·ªùi tr∆∞·ªõc: Ch·ªìng 44, V·ª£ 34, Th√°ng 1
            document.getElementById('tuoiChong').value = 44;
            document.getElementById('thangThuThai').value = 1;
            document.getElementById('tuoiVo').value = 34;
            calculateBatQuai(); // Ch·∫°y t√≠nh to√°n ngay
        };
    </script>

</body>
</html>
