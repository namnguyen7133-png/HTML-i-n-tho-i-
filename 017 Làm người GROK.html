<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>SINH TRAI HAY GÁI - Chuẩn Dân Gian Việt Nam</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  * { box-sizing: border-box; }
  body {
    margin: 0;
    background: linear-gradient(135deg, #ff9a9e, #fad0c4);
    font-family: Arial, Helvetica, sans-serif;
    color: #333;
    min-height: 100vh;
  }
  .box {
    max-width: 95%;
    margin: 15px auto;
    background: white;
    border-radius: 25px;
    box-shadow: 0 20px 60px rgba(0,0,0,0.4);
    overflow: hidden;
  }
  header {
    background: linear-gradient(45deg, #ff512f, #dd2476);
    color: white;
    text-align: center;
    padding: 40px 20px;
  }
  h1 {
    font-size: clamp(40px, 10vw, 80px);
    margin: 0;
    text-shadow: 0 8px 20px rgba(0,0,0,0.8);
  }
  .today {
    font-size: clamp(24px, 5vw, 40px);
    margin-top: 15px;
  }
  .input {
    padding: 40px 20px;
    text-align: center;
    background: #f8f9fa;
  }
  label {
    font-size: clamp(24px, 5vw, 36px);
    font-weight: bold;
    color: #2c3e50;
    margin: 20px 0 10px;
    display: block;
  }
  input[type="date"] {
    font-size: clamp(20px, 4.5vw, 28px);
    padding: 15px;
    width: 100%;
    max-width: 400px;
    border: 5px solid #e74c3c;
    border-radius: 20px;
    text-align: center;
    margin: 10px auto;
    display: block;
  }
  button {
    margin-top: 40px;
    padding: 18px 60px;
    font-size: clamp(28px, 7vw, 48px);
    background: #e74c3c;
    color: white;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    box-shadow: 0 15px 30px rgba(231,76,60,0.6);
  }
  .result {
    padding: 40px 20px;
    text-align: center;
    font-size: clamp(22px, 5vw, 36px);
    line-height: 1.8;
  }
  .age {
    font-size: clamp(50px, 12vw, 90px);
    color: #8e44ad;
    font-weight: bold;
  }
  .khung {
    margin: 40px auto;
    padding: 30px;
    border-radius: 30px;
    max-width: 90%;
  }
  .p1 { background: linear-gradient(135deg,#89f7fe,#66a6ff); border: 8px solid #3498db; }
  .p2 { background: linear-gradient(135deg,#ffecd2,#fcb69f); border: 8px solid #e91e63; }
  .final {
    font-size: clamp(60px, 15vw, 120px);
    padding: 30px;
    border-radius: 40px;
    color: white;
    text-shadow: 0 8px 20px black;
    font-weight: bold;
    margin: 30px 0;
  }
  .trai { background: linear-gradient(45deg,#00d2ff,#3a7bd5); }
  .gai  { background: linear-gradient(45deg,#ff6b6b,#ee5a52); }
</style>
</head>
<body>

<div class="box">
  <header>
    <h1>SINH TRAI HAY GÁI?</h1>
    <div class="today">Hôm nay: <span id="today"></span></div>
  </header>

  <div class="input">
    <label>Ngày sinh BỐ (dương lịch)</label>
    <input type="date" id="bo">

    <label>Ngày sinh MẸ (dương lịch)</label>
    <input type="date" id="me">

    <label>Ngày dự kiến SINH CON</label>
    <input type="date" id="con">

    <button onclick="tinh()">XEM KẾT QUẢ</button>
  </div>

  <div id="ketqua"></div>
</div>

<script>
// Hiển thị ngày ngay khi mở trang
document.getElementById("today").innerText = new Date().toLocaleDateString('vi-VN');

function tinh() {
  let bo = document.getElementById("bo").value;
  let me = document.getElementById("me").value;
  let con = document.getElementById("con").value;

  if (!bo || !me || !con) return alert("Vui lòng nhập đủ 3 ngày nhé!");

  let namHienTai = new Date().getFullYear();

  let namSinhBo = new Date(bo).getFullYear();
  let namSinhMe = new Date(me).getFullYear();
  let tuoiBo = namHienTai - namSinhBo + 1;  // tuổi mụ
  let tuoiMe = namHienTai - namSinhMe +1;
  let thangCon = new Date(con).getMonth() + 1;

  // === PHƯƠNG PHÁP 1: Cộng tuổi bố mẹ ===
  let tong = tuoiBo + tuoiMe;
  let du = tong % 40;
  if (du === 0) du = 40;
  let temp = du;
  while (temp > 9) {
    temp -= 9;
    if (temp > 9) temp -= 8;
  }
  let so1 = temp;

  let namSinhCon = new Date(con).getFullYear();
  let trongNam = (namSinhCon === namHienTai || namSinhCon === namHienTai + 1);
  let ket1 = (so1 % 2 === 0) 
    ? (trongNam ? "CON TRAI" : "CON GÁI")
    : (trongNam ? "CON GÁI" : "CON TRAI");

  // === PHƯƠNG PHÁP 2: Công thức mẹ - SỬA CHUẨN DÂN GIAN ===
  let ketQuaCongThuc = (68 + thangCon - tuoiMe) / 2;
  let phanNguyen = Math.floor(ketQuaCongThuc); // chỉ lấy phần nguyên
  let ket2 = (phanNguyen % 2 === 0) ? "CON TRAI" : "CON GÁI";
  // Chẵn → Trai, Lẻ → Gái (chuẩn 99% các bà các mẹ dùng)

  // Hiển thị kết quả đẹp
  document.getElementById("ketqua").innerHTML = `
    <div class="result">

      <div style="font-size:clamp(36px,8vw,60px); color:#8e44ad; margin:50px 0;">
        TUỔI DÙNG ĐỂ TÍNH (tuổi mụ)<br>
        BỐ: <span class="age">${tuoiBo}</span> tuổi  MẸ: <span class="age">${tuoiMe}</span> tuổi
      </div>

      <div class="khung p1">
        <div style="font-size:clamp(30px,7vw,50px); color:#2980b9;">PHƯƠNG PHÁP 1 – Cộng tuổi bố mẹ</div>
        ${tuoiBo} + ${tuoiMe} = ${tong} → chia 40 dư ${du} → rút gọn → được <b>${so1}</b><br><br>
        <div class="final ${ket1==='CON TRAI'?'trai':'gai'}">${ket1}</div>
      </div>

      <div class="khung p2">
        <div style="font-size:clamp(30px,7vw,50px); color:#e91e63;">PHƯƠNG PHÁP 2 – Công thức của mẹ (chuẩn nhất)</div>
        Công thức: (68 + ${thangCon} − ${tuoiMe}) ÷ 2 = ${ketQuaCongThuc.toFixed(2)}<br>
        → Lấy phần nguyên: <b>${phanNguyen}</b> ${phanNguyen % 2 === 0 ? '(chẵn)' : '(lẻ)'}<br><br>
        <div class="final ${ket2==='CON TRAI'?'trai':'gai'}">${ket2}</div>
      </div>

      <div style="font-size:clamp(28px,6vw,40px); color:#c0392b; margin-top:50px; font-weight:bold;">
        Gợi ý: Nhiều mẹ bảo Phương pháp 2 chuẩn hơn đó nha!
      </div>
    </div>
  `;
}
</script>

</body>
</html>