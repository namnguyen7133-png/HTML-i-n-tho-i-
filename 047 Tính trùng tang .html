<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tính Tuổi Âm Lịch & Trùng Tang</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(to right, #8B0000, #B22222);
            color: white;
            padding: 25px;
            text-align: center;
            border-bottom: 5px solid #FFD700;
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .content {
            padding: 25px;
        }
        
        .input-section {
            background-color: #f9f9f9;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #8B0000;
        }
        
        input, select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        input:focus, select:focus {
            border-color: #B22222;
            box-shadow: 0 0 0 2px rgba(178, 34, 34, 0.2);
            outline: none;
        }
        
        .row {
            display: flex;
            gap: 15px;
        }
        
        .col {
            flex: 1;
        }
        
        button {
            background: linear-gradient(to right, #8B0000, #B22222);
            color: white;
            border: none;
            padding: 14px 25px;
            font-size: 18px;
            border-radius: 6px;
            cursor: pointer;
            width: 100%;
            font-weight: 600;
            transition: all 0.3s;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        button:hover {
            background: linear-gradient(to right, #B22222, #8B0000);
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
        }
        
        .result-section {
            background-color: #fff;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin-top: 20px;
            display: none;
        }
        
        .result-title {
            color: #8B0000;
            margin-bottom: 15px;
            font-size: 1.5rem;
            text-align: center;
            border-bottom: 2px solid #FFD700;
            padding-bottom: 10px;
        }
        
        .result-content {
            font-size: 1.1rem;
            line-height: 1.6;
        }
        
        .good-result {
            background-color: #d4edda;
            border: 1px solid #c3e6cb;
            border-radius: 6px;
            padding: 15px;
            margin-top: 20px;
            color: #155724;
        }
        
        .bad-result {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 6px;
            padding: 15px;
            margin-top: 20px;
            color: #721c24;
        }
        
        .warning {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 6px;
            padding: 15px;
            margin-top: 20px;
            color: #856404;
        }
        
        .note {
            font-size: 0.9rem;
            color: #666;
            margin-top: 20px;
            text-align: center;
            font-style: italic;
        }
        
        @media (max-width: 600px) {
            .row {
                flex-direction: column;
            }
            
            h1 {
                font-size: 1.8rem;
            }
        }
        
        .explanation {
            margin-top: 20px;
            padding: 15px;
            background-color: #f0f8ff;
            border-radius: 6px;
            border-left: 4px solid #4d79ff;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Tính Tuổi Âm Lịch & Kiểm Tra Trùng Tang</h1>
            <p class="subtitle">Theo phương pháp bấm độn dân gian Việt Nam</p>
        </header>
        
        <div class="content">
            <div class="input-section">
                <div class="form-group">
                    <label for="tuoiMup">Tuổi mụ (tuổi âm lịch):</label>
                    <input type="number" id="tuoiMup" min="1" max="120" required>
                </div>
                
                <div class="row">
                    <div class="col">
                        <div class="form-group">
                            <label for="ngayMat">Ngày mất (âm lịch):</label>
                            <input type="number" id="ngayMat" min="1" max="30" required>
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-group">
                            <label for="gioMat">Giờ mất (âm lịch):</label>
                            <select id="gioMat" required>
                                <option value="">-- Chọn giờ --</option>
                                <option value="1">Tý (23h-1h)</option>
                                <option value="2">Sửu (1h-3h)</option>
                                <option value="3">Dần (3h-5h)</option>
                                <option value="4">Mão (5h-7h)</option>
                                <option value="5">Thìn (7h-9h)</option>
                                <option value="6">Tỵ (9h-11h)</option>
                                <option value="7">Ngọ (11h-13h)</option>
                                <option value="8">Mùi (13h-15h)</option>
                                <option value="9">Thân (15h-17h)</option>
                                <option value="10">Dậu (17h-19h)</option>
                                <option value="11">Tuất (19h-21h)</option>
                                <option value="12">Hợi (21h-23h)</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="gender">Giới tính người mất:</label>
                    <select id="gender" required>
                        <option value="">-- Chọn giới tính --</option>
                        <option value="male">Nam</option>
                        <option value="female">Nữ</option>
                    </select>
                </div>
                
                <button id="calculateBtn">Tính Toán</button>
            </div>
            
            <div class="result-section" id="resultSection">
                <h2 class="result-title">Kết Quả</h2>
                <div class="result-content" id="resultContent">
                    <!-- Kết quả sẽ được hiển thị ở đây -->
                </div>
                
                <div class="explanation" id="explanationSection">
                    <!-- Giải thích cách tính sẽ được hiển thị ở đây -->
                </div>
                
                <div class="warning">
                    <strong>Lưu ý:</strong> Kết quả này chỉ mang tính chất tham khảo dựa trên tín ngưỡng dân gian. Trùng tang là một khái niệm trong tâm linh, không có cơ sở khoa học. Hãy tham khảo ý kiến chuyên gia nếu cần thông tin chính xác.
                </div>
            </div>
            
            <div class="note">
                Ứng dụng này giúp tính trùng tang theo phương pháp bấm độn dân gian Việt Nam, dựa trên tuổi mụ, ngày và giờ mất (âm lịch).
            </div>
        </div>
    </div>

    <script>
        // Bài thơ bấm độn trùng tang
        const baiThoTrungTang = [
            { stt: 1, cau: "Nhất là Kiếp trước oan gia", soChu: 6, yNghia: "Chết bình thường (không trùng)", ketQua: "TOT" },
            { stt: 2, cau: "Nhì là Trùng phục cả nhà chẳng yên", soChu: 8, yNghia: "Trùng phục (có trùng, nhẹ)", ketQua: "XAU" },
            { stt: 3, cau: "Ba là Trùng chính liên miên", soChu: 6, yNghia: "Trùng nặng (cần chú ý kỹ)", ketQua: "XAU" },
            { stt: 4, cau: "Bốn là Trùng điệp xuống miền âm ty", soChu: 8, yNghia: "Trùng liên tiếp, rất xấu", ketQua: "XAU" },
            { stt: 5, cau: "Năm là Thiên đàng hộ trì", soChu: 6, yNghia: "Lành", ketQua: "TOT" },
            { stt: 6, cau: "Sáu là Địa ngục quỷ thì tránh xa", soChu: 8, yNghia: "Xấu (âm binh kéo đi)", ketQua: "XAU" },
            { stt: 7, cau: "Bảy là Đầu thai chuyển sinh", soChu: 6, yNghia: "Bình thường", ketQua: "TOT" },
            { stt: 8, cau: "Tám là Không xuống, không lên, luẩn quẩn", soChu: 8, yNghia: "Linh hồn chưa siêu thoát", ketQua: "XAU" },
            { stt: 9, cau: "Chín là Lên thẳng Thiên đình", soChu: 6, yNghia: "Rất tốt", ketQua: "TOT" },
            { stt: 10, cau: "Mười là Siêu thoát hội minh Phật đài", soChu: 8, yNghia: "Siêu thoát, bình an", ketQua: "TOT" }
        ];

        // Tổng số chữ trong bài thơ
        const tongSoChu = baiThoTrungTang.reduce((tong, cau) => tong + cau.soChu, 0);

        document.getElementById('calculateBtn').addEventListener('click', function() {
            // Lấy dữ liệu từ form
            const tuoiMup = parseInt(document.getElementById('tuoiMup').value);
            const ngayMat = parseInt(document.getElementById('ngayMat').value);
            const gioMat = parseInt(document.getElementById('gioMat').value);
            const gender = document.getElementById('gender').value;
            
            // Kiểm tra dữ liệu hợp lệ
            if (!tuoiMup || !ngayMat || !gioMat || !gender) {
                alert('Vui lòng nhập đầy đủ thông tin!');
                return;
            }
            
            // Tính toán kết quả trùng tang
            const ketQuaTrungTang = tinhTrungTang(tuoiMup, ngayMat, gioMat);
            
            // Hiển thị kết quả
            hienThiKetQua(ketQuaTrungTang, tuoiMup, ngayMat, gioMat);
            
            // Hiển thị phần kết quả
            document.getElementById('resultSection').style.display = 'block';
        });
        
        function tinhTrungTang(tuoiMup, ngayMat, gioMat) {
            // Tính tổng số chữ cần đếm
            const tongDem = tuoiMup + ngayMat + gioMat;
            
            // Tính số dư khi chia cho 10
            const soDu = tongDem % 10;
            
            // Xác định câu thơ tương ứng (nếu số dư là 0 thì là câu 10)
            const cauThu = soDu === 0 ? 10 : soDu;
            
            // Trả về kết quả
            return baiThoTrungTang[cauThu - 1];
        }
        
        function hienThiKetQua(ketQua, tuoiMup, ngayMat, gioMat) {
            const resultContent = document.getElementById('resultContent');
            const explanationSection = document.getElementById('explanationSection');
            
            // Xác định lớp CSS dựa trên kết quả
            const resultClass = ketQua.ketQua === "TOT" ? "good-result" : "bad-result";
            const resultText = ketQua.ketQua === "TOT" ? "TỐT" : "XẤU";
            
            // Hiển thị kết quả
            let html = `
                <div class="${resultClass}">
                    <h3>Kết quả: ${resultText}</h3>
                    <p><strong>Câu thơ:</strong> ${ketQua.cau}</p>
                    <p><strong>Ý nghĩa:</strong> ${ketQua.yNghia}</p>
                </div>
            `;
            
            resultContent.innerHTML = html;
            
            // Hiển thị giải thích cách tính
            const gioText = document.getElementById('gioMat').options[gioMat-1].text;
            let explanation = `
                <h3>Giải thích cách tính:</h3>
                <p><strong>Tổng số chữ cần đếm:</strong> Tuổi mụ (${tuoiMup}) + Ngày mất (${ngayMat}) + Giờ mất (${gioMat} - ${gioText}) = ${tuoiMup + ngayMat + gioMat}</p>
                <p><strong>Phép tính:</strong> ${tuoiMup + ngayMat + gioMat} mod 10 = ${(tuoiMup + ngayMat + gioMat) % 10}</p>
                <p><strong>Kết quả:</strong> Dừng ở câu thơ số ${ketQua.stt}</p>
            `;
            
            explanationSection.innerHTML = explanation;
        }
        
        // Đặt giá trị mặc định cho các trường
        document.getElementById('tuoiMup').value = 67;
        document.getElementById('ngayMat').value = 17;
        document.getElementById('gioMat').value = 10;
        document.getElementById('gender').value = 'male';
    </script>
</body>
</html>