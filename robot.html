<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Robot Ä‚n Uá»‘ng Tá»± Äá»™ng</title>
<style>
body { font-family: Arial; padding: 20px; }
.ok { color: green; }
.stop { color: red; font-weight: bold; }
</style>
</head>
<body>

<h2>ğŸ¤– Robot Äƒn uá»‘ng tá»± Ä‘á»™ng</h2>
<div id="trangThai">Äang quÃ©t tá»‡p...</div>
<hr>
<div id="ketQua"></div>

<script>
// ====== Cáº¤U HÃŒNH ======
const folders = [
  "am-lich",      // Æ°u tiÃªn 1
  "le-duong",     // Æ°u tiÃªn 2
  "an-uong"       // Æ°u tiÃªn 3
];

const maxFiles = 1000;

// ====== KIá»‚M TRA Ná»˜I DUNG ======
function laNgayDung(html) {
  const k = html.toLowerCase();
  return (
    k.includes("táº¿t") ||
    k.includes("Ã¢m lá»‹ch") ||
    k.includes("lá»…")
  );
}

function laAnUong(html) {
  const k = html.toLowerCase();
  return (
    k.includes("Äƒn") ||
    k.includes("mua") ||
    k.includes("tiá»n")
  );
}

// ====== ROBOT ======
async function chayRobot() {
  const out = document.getElementById("ketQua");
  const tt = document.getElementById("trangThai");

  for (const folder of folders) {

    for (let i = 1; i <= maxFiles; i++) {

      const file = String(i).padStart(3,"0") + ".html";
      const url = folder + "/" + file;

      try {
        const r = await fetch(url);
        if (!r.ok) continue;

        const html = await r.text();

        // náº¿u ngÃ y lá»… / Ã¢m lá»‹ch â†’ dá»«ng toÃ n bá»™
        if (laNgayDung(html)) {
          tt.innerHTML = "â›” Dá»«ng do ngÃ y lá»… / Ã¢m lá»‹ch";
          out.innerHTML =
            "<div class='stop'>Dá»«ng táº¡i: " + folder + "/" + file + "</div>";
          return;
        }

        // náº¿u Äƒn uá»‘ng â†’ hiá»ƒn thá»‹
        if (laAnUong(html)) {
          tt.innerHTML = "âœ” TÃ¬m tháº¥y tá»‡p Äƒn uá»‘ng";
          out.innerHTML +=
            "<div class='ok'>"+folder+"/"+file+"</div>";
        }

      } catch(e) {}
    }
  }

  tt.innerHTML = "âœ” QuÃ©t xong";
}

window.onload = chayRobot;
</script>

</body>
</html>
