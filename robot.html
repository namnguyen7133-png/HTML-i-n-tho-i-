<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Robot T√≠nh Ng√†y Linh Ho·∫°t</title>
</head>
<body>

<h2>ü§ñ Robot T√≠nh Ng√†y (C√≥ Gi·ªõi H·∫°n T√πy Ch·ªânh)</h2>

<p>D√°n n·ªôi dung HTML v√†o:</p>
<textarea id="content" rows="10" cols="45"></textarea>

<br><br>

Gi·ªõi h·∫°n nh·ªè nh·∫•t:
<input id="min" type="number" value="1">

Gi·ªõi h·∫°n l·ªõn nh·∫•t:
<input id="max" type="number" value="100">

<br><br>

<h3 id="result"></h3>

<script>
function calculate() {

    let text = document.getElementById("content").value;
    let min = parseFloat(document.getElementById("min").value);
    let max = parseFloat(document.getElementById("max").value);

    let numbers = text.match(/\d+(\.\d+)?/g);

    if(numbers){

        let totalRate = 0;
        let used = [];

        numbers.forEach(function(n){
            let num = parseFloat(n);

            // l·ªçc theo kho·∫£ng b·∫°n nh·∫≠p
            if(num >= min && num <= max){
                totalRate += 1/num;
                used.push(num);
            }
        });

        if(totalRate > 0){

            let result = 1/totalRate;
            let rounded = Math.round(result);

            document.getElementById("result").innerText =
            "S·ªë ƒë∆∞·ª£c d√πng: " + used.join(", ") +
            "\n‚è≥ Ho√†n th√†nh: " + rounded + " ng√†y";
        }
        else{
            document.getElementById("result").innerText =
            "Kh√¥ng c√≥ s·ªë trong kho·∫£ng ƒë√£ ch·ªçn.";
        }
    }
}

document.getElementById("content").addEventListener("input", calculate);
document.getElementById("min").addEventListener("input", calculate);
document.getElementById("max").addEventListener("input", calculate);
</script>

</body>
</html>
