<!DOCTYPE html>
<html>
<head>
    <title>T√¨m Ki·∫øm Ph∆∞∆°ng Ti·ªán & ƒê·ªì D√πng C√¥ng S·ªü</title>
    <meta charset="UTF-8">
    <style>
        body { 
            font-family: 'Segoe UI', Arial, sans-serif; 
            margin: 20px; 
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); 
            min-height: 100vh; 
        }
        .container { 
            background: white; 
            padding: 25px; 
            border-radius: 15px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.1); 
            max-width: 1100px; 
            margin: 0 auto; 
        }
        h2 { 
            color: #2c3e50; 
            text-align: center; 
            margin-bottom: 20px; 
            padding-bottom: 15px; 
            border-bottom: 2px solid #3498db; 
        }
        
        .stats-bar {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            padding: 12px 20px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 5px solid #1976d2;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 8px;
        }
        .stat-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-size: 0.9em;
            padding: 3px 0;
        }
        .stat-value {
            font-weight: bold;
            color: #1976d2;
            font-size: 1em;
            background: white;
            padding: 2px 8px;
            border-radius: 12px;
            min-width: 35px;
            text-align: center;
        }
        
        .category-filter {
            margin-bottom: 15px;
        }
        .category-buttons {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-bottom: 10px;
        }
        .category-button {
            padding: 8px 16px;
            font-size: 13px;
            border: 2px solid #95a5a6;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            background: white;
            color: #2c3e50;
        }
        .category-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 3px 6px rgba(0,0,0,0.1);
        }
        .category-button.active {
            background: #3498db;
            color: white;
            border-color: #2980b9;
        }
        
        .input-section { 
            margin-bottom: 20px; 
        }
        input[type="text"] { 
            width: 100%; 
            padding: 12px; 
            font-size: 16px; 
            border: 2px solid #ddd; 
            border-radius: 8px; 
            box-sizing: border-box;
            transition: all 0.3s;
            margin-bottom: 12px;
        }
        input[type="text"]:focus { 
            border-color: #3498db; 
            outline: none;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }
        
        .mode-buttons { 
            display: flex; 
            gap: 8px; 
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        .mode-button { 
            padding: 10px 20px; 
            font-size: 14px; 
            border: 2px solid #3498db; 
            border-radius: 8px; 
            cursor: pointer; 
            transition: all 0.3s; 
            flex: 1;
            background: white;
            color: #3498db;
            font-weight: bold;
            min-width: 110px;
        }
        .mode-button:hover { 
            background: #f0f8ff;
            transform: translateY(-2px);
        }
        .mode-button.active { 
            background: #3498db; 
            color: white; 
            border-color: #2980b9;
            box-shadow: 0 3px 6px rgba(52, 152, 219, 0.2);
        }
        
        .special-button {
            background: #9b59b6;
            color: white;
            border: 2px solid #8e44ad;
        }
        .special-button:hover {
            background: #8e44ad;
        }
        .special-button.active {
            background: #8e44ad;
            border-color: #7d3c98;
        }
        
        .button-group { 
            display: flex; 
            gap: 12px; 
            margin-top: 8px; 
            flex-wrap: wrap;
        }
        button { 
            padding: 12px 24px; 
            font-size: 14px; 
            border: none; 
            border-radius: 8px; 
            cursor: pointer; 
            transition: all 0.3s; 
            flex: 1;
            min-width: 140px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }
        #searchBtn { 
            background: linear-gradient(135deg, #2ecc71, #27ae60); 
            color: white; 
        }
        #searchBtn:hover { 
            background: linear-gradient(135deg, #27ae60, #219653);
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(39, 174, 96, 0.2);
        }
        #nextBtn { 
            background: linear-gradient(135deg, #3498db, #2980b9); 
            color: white; 
        }
        #nextBtn:hover { 
            background: linear-gradient(135deg, #2980b9, #1c6ea4);
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(52, 152, 219, 0.2);
        }
        #nextBtn:disabled { 
            background: #bdc3c7; 
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .char-sequence-container {
            margin: 15px 0;
            padding: 12px;
            background: white;
            border-radius: 8px;
            border: 2px solid #e0e0e0;
            display: none;
        }
        .char-sequence-title {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 8px;
            font-size: 0.95em;
        }
        .char-sequence {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            justify-content: flex-start;
            align-items: center;
            max-width: 100%;
            overflow: visible;
        }
        .char-box { 
            width: 35px; 
            height: 35px; 
            background: #ecf0f1; 
            border-radius: 6px; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-weight: bold; 
            font-size: 1.1em;
            color: #2c3e50;
            border: 2px solid #bdc3c7;
            transition: all 0.3s;
            position: relative;
        }
        .char-box.found { 
            background: #2ecc71; 
            color: white; 
            border-color: #27ae60;
        }
        .char-box.not-found { 
            background: #e74c3c; 
            color: white; 
            border-color: #c0392b;
        }
        .char-box.special-found {
            background: #9b59b6;
            color: white;
            border-color: #8e44ad;
        }
        .char-index {
            position: absolute;
            top: -4px;
            right: -4px;
            background: #2c3e50;
            color: white;
            font-size: 0.5em;
            padding: 1px 3px;
            border-radius: 6px;
            min-width: 14px;
            text-align: center;
        }
        
        .result-section { 
            margin-top: 15px; 
        }
        .result-box { 
            background: white; 
            padding: 15px; 
            border-radius: 8px; 
            min-height: 100px; 
            border: 2px solid #e0e0e0; 
            margin-top: 8px;
        }
        .status-info { 
            margin-top: 12px; 
            padding: 10px; 
            background: linear-gradient(135deg, #f8f9fa, #e9ecef); 
            border-radius: 8px; 
            color: #2c3e50;
            border-left: 4px solid #3498db;
            font-size: 0.85em;
        }
        
        .found-item { 
            background: linear-gradient(135deg, #ffffff, #f8f9fa); 
            padding: 12px; 
            margin: 8px 0; 
            border-radius: 6px; 
            border-left: 4px solid #2ecc71; 
            display: flex; 
            align-items: center;
            box-shadow: 0 1px 5px rgba(0,0,0,0.05);
        }
        .found-item.not-found {
            border-left-color: #e74c3c;
            background: linear-gradient(135deg, #fff5f5, #ffeaea);
        }
        .found-item.special {
            border-left-color: #9b59b6;
            background: linear-gradient(135deg, #f5eef8, #e8daef);
        }
        .found-item .char-match { 
            background: #3498db; 
            color: white; 
            width: 30px; 
            height: 30px; 
            border-radius: 50%; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-weight: bold; 
            font-size: 1em;
            margin-right: 12px;
            flex-shrink: 0;
        }
        .found-item.not-found .char-match {
            background: #e74c3c;
        }
        .found-item.special .char-match {
            background: #9b59b6;
        }
        .found-item .item-info { 
            flex: 1; 
        }
        .found-item .item-name { 
            font-weight: bold; 
            font-size: 1em; 
            color: #2c3e50;
            margin-bottom: 2px;
        }
        .found-item .item-location { 
            color: #7f8c8d; 
            font-size: 0.85em;
        }
        .found-item .item-description {
            color: #7f8c8d;
            font-size: 0.8em;
            font-style: italic;
            margin-top: 3px;
        }
        
        .summary-box {
            background: linear-gradient(135deg, #e8f5e9, #c8e6c9);
            padding: 10px;
            border-radius: 6px;
            margin-bottom: 12px;
            border-left: 4px solid #4caf50;
            font-size: 0.85em;
        }
        
        .special-summary {
            background: linear-gradient(135deg, #f5eef8, #e8daef);
            border-left: 4px solid #9b59b6;
        }
        
        .search-stats {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            font-size: 0.8em;
            color: #7f8c8d;
        }
        
        @media (max-width: 768px) {
            .container { padding: 15px; }
            .char-box { width: 30px; height: 30px; font-size: 0.95em; }
            button { min-width: 100%; }
            .button-group, .mode-buttons, .category-buttons { flex-direction: column; }
            .char-sequence { gap: 5px; }
            .mode-button, .category-button { min-width: 100%; }
            .stats-bar { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>üîç T√åM PH∆Ø∆†NG TI·ªÜN & ƒê·ªí D√ôNG C√îNG S·ªû</h2>
        
        <!-- Th·ªëng k√™ -->
        <div class="stats-bar" id="statsBar">
            <div class="stat-item">
                <span>üìä T·ªïng s·ªë:</span>
                <span class="stat-value" id="totalItems">0</span>
            </div>
            <div class="stat-item">
                <span>üöó Ph∆∞∆°ng ti·ªán:</span>
                <span class="stat-value" id="vehicleItems">0</span>
            </div>
            <div class="stat-item">
                <span>üè¢ C√¥ng s·ªü:</span>
                <span class="stat-value" id="officeItems">0</span>
            </div>
            <div class="stat-item">
                <span>üö≤ Xe c√° nh√¢n:</span>
                <span class="stat-value" id="personalVehicleItems">0</span>
            </div>
            <div class="stat-item">
                <span>üìê VƒÉn ph√≤ng:</span>
                <span class="stat-value" id="officeSupplyItems">0</span>
            </div>
        </div>
        
        <!-- B·ªô l·ªçc danh m·ª•c -->
        <div class="category-filter">
            <div class="category-buttons">
                <button class="category-button active" data-category="all" onclick="setCategory('all')">
                    T·∫•t c·∫£
                </button>
                <button class="category-button" data-category="vehicle" onclick="setCategory('vehicle')">
                    üöó Ph∆∞∆°ng ti·ªán
                </button>
                <button class="category-button" data-category="office" onclick="setCategory('office')">
                    üè¢ C√¥ng s·ªü
                </button>
                <button class="category-button" data-category="personal_vehicle" onclick="setCategory('personal_vehicle')">
                    üö≤ Xe c√° nh√¢n
                </button>
                <button class="category-button" data-category="office_supply" onclick="setCategory('office_supply')">
                    üìê VƒÉn ph√≤ng
                </button>
            </div>
        </div>
        
        <div class="input-section">
            <input type="text" id="charInput" placeholder="Nh·∫≠p t√™n ri√™ng..." value="">
            
            <div class="mode-buttons">
                <button class="mode-button active" data-mode="first" onclick="setMode('first')">
                    ƒê·∫¶U
                </button>
                <button class="mode-button" data-mode="middle" onclick="setMode('middle')">
                    GI·ªÆA
                </button>
                <button class="mode-button" data-mode="last" onclick="setMode('last')">
                    CU·ªêI
                </button>
                <button class="mode-button special-button" data-mode="all_chars" onclick="setMode('all_chars')">
                    T√åM T·∫§T C·∫¢
                </button>
            </div>
        </div>
        
        <div class="button-group">
            <button id="searchBtn" onclick="searchItems()">
                <span>üîé</span> T√¨m Ki·∫øm
            </button>
            <button id="nextBtn" onclick="nextSearch()" disabled>
                <span>‚è≠Ô∏è</span> T√¨m ti·∫øp
            </button>
        </div>
        
        <div class="char-sequence-container" id="charSequenceContainer">
            <div class="char-sequence-title">Ch·ªØ c√°i t√¨m ki·∫øm:</div>
            <div class="char-sequence" id="charSequenceDisplay"></div>
        </div>
        
        <div class="result-section">
            <div class="result-box" id="resultBox">
                <div style="color: #bdc3c7; text-align: center; padding: 25px; font-size: 0.95em;">
                    ‚è≥ Nh·∫≠p t√™n v√† ch·ªçn ch·∫ø ƒë·ªô t√¨m ki·∫øm
                </div>
            </div>
            
            <div class="search-stats">
                <div id="foundStats">T√¨m th·∫•y: 0/0</div>
                <div id="remainingStats">C√≤n l·∫°i: 0</div>
            </div>
            
            <div class="status-info" id="statusText">
                Ch·ªçn ch·∫ø ƒë·ªô: ƒê·∫¶U (ch·ªØ ƒë·∫ßu), GI·ªÆA (ch·ªØ gi·ªØa), CU·ªêI (ch·ªØ cu·ªëi), T√åM T·∫§T C·∫¢ (t√¨m c√°c ch·ªØ trong 1 t·ª´)
            </div>
        </div>
    </div>

    <script>
        // ==================== C·∫§U H√åNH ====================
        let currentMode = 'first';
        let currentCategory = 'all';
        let allFoundItems = [];
        let displayedItems = [];
        let searchIndex = 0;
        let searchChars = [];
        let usedItemIds = new Set();
        const itemsPerPage = 4;
        
        // ==================== DANH S√ÅCH PH∆Ø∆†NG TI·ªÜN & ƒê·ªí D√ôNG C√îNG S·ªû ====================
        const allItems = [
            // ===== PH∆Ø∆†NG TI·ªÜN C√îNG C·ªòNG & V·∫¨N T·∫¢I (35 m·ª•c) =====
            { name: "√î t√¥", key_first: "√î", key_middle: "T", key_last: "√î", location: "ƒê∆∞·ªùng ph·ªë", type: "ph∆∞∆°ng ti·ªán", category: "vehicle", all_chars: ["√î", "T", "√î"] },
            { name: "Xe bu√Ωt", key_first: "X", key_middle: "E", key_last: "T", location: "B·∫øn xe", type: "ph∆∞∆°ng ti·ªán", category: "vehicle", all_chars: ["X", "E", "B", "U", "Y", "T"] },
            { name: "Xe t·∫£i", key_first: "X", key_middle: "E", key_last: "I", location: "ƒê∆∞·ªùng cao t·ªëc", type: "ph∆∞∆°ng ti·ªán", category: "vehicle", all_chars: ["X", "E", "T", "A", "I"] },
            { name: "Xe m√°y", key_first: "X", key_middle: "E", key_last: "Y", location: "ƒê∆∞·ªùng ph·ªë", type: "ph∆∞∆°ng ti·ªán", category: "vehicle", all_chars: ["X", "E", "M", "A", "Y"] },
            { name: "Xe ƒë·∫°p", key_first: "X", key_middle: "E", key_last: "P", location: "L√†n ƒë∆∞·ªùng ri√™ng", type: "ph∆∞∆°ng ti·ªán", category: "vehicle", all_chars: ["X", "E", "ƒê", "A", "P"] },
            { name: "T√†u h·ªèa", key_first: "T", key_middle: "A", key_last: "A", location: "Ga t√†u", type: "ph∆∞∆°ng ti·ªán", category: "vehicle", all_chars: ["T", "A", "U", "H", "O", "A"] },
            { name: "T√†u ƒëi·ªán", key_first: "T", key_middle: "A", key_last: "N", location: "Ga t√†u ƒëi·ªán", type: "ph∆∞∆°ng ti·ªán", category: "vehicle", all_chars: ["T", "A", "U", "ƒê", "I", "E", "N"] },
            { name: "M√°y bay", key_first: "M", key_middle: "A", key_last: "Y", location: "S√¢n bay", type: "ph∆∞∆°ng ti·ªán", category: "vehicle", all_chars: ["M", "A", "Y", "B", "A", "Y"] },
            { name: "T√†u th·ªßy", key_first: "T", key_middle: "A", key_last: "Y", location: "B·∫øn c·∫£ng", type: "ph∆∞∆°ng ti·ªán", category: "vehicle", all_chars: ["T", "A", "U", "T", "H", "U", "Y"] },
            { name: "Xe c·ª©u th∆∞∆°ng", key_first: "X", key_middle: "E", key_last: "G", location: "B·ªánh vi·ªán", type: "ph∆∞∆°ng ti·ªán", category: "vehicle", all_chars: ["X", "E", "C", "U", "U", "T", "H", "U", "O", "N", "G"] },
            { name: "Xe c·ª©u h·ªèa", key_first: "X", key_middle: "E", key_last: "A", location: "Tr·∫°m c·ª©u h·ªèa", type: "ph∆∞∆°ng ti·ªán", category: "vehicle", all_chars: ["X", "E", "C", "U", "U", "H", "O", "A"] },
            { name: "Xe c·∫£nh s√°t", key_first: "X", key_middle: "E", key_last: "T", location: "ƒê·ªìn c·∫£nh s√°t", type: "ph∆∞∆°ng ti·ªán", category: "vehicle", all_chars: ["X", "E", "C", "A", "N", "H", "S", "A", "T"] },
            { name: "Xe taxi", key_first: "X", key_middle: "E", key_last: "I", location: "B√£i ƒë·ªó taxi", type: "ph∆∞∆°ng ti·ªán", category: "vehicle", all_chars: ["X", "E", "T", "A", "X", "I"] },
            { name: "Xe limousine", key_first: "X", key_middle: "E", key_last: "E", location: "Kh√°ch s·∫°n", type: "ph∆∞∆°ng ti·ªán", category: "vehicle", all_chars: ["X", "E", "L", "I", "M", "O", "U", "S", "I", "N", "E"] },
            { name: "Xe container", key_first: "X", key_middle: "E", key_last: "R", location: "C·∫£ng bi·ªÉn", type: "ph∆∞∆°ng ti·ªán", category: "vehicle", all_chars: ["X", "E", "C", "O", "N", "T", "A", "I", "N", "E", "R"] },
            
            // ===== XE C√Å NH√ÇN (25 m·ª•c) =====
            { name: "Xe h∆°i", key_first: "X", key_middle: "E", key_last: "I", location: "Garage", type: "xe c√° nh√¢n", category: "personal_vehicle", all_chars: ["X", "E", "H", "O", "I"] },
            { name: "Xe m√¥ t√¥", key_first: "X", key_middle: "E", key_last: "√î", location: "Nh√† xe", type: "xe c√° nh√¢n", category: "personal_vehicle", all_chars: ["X", "E", "M", "O", "T", "O"] },
            { name: "Xe ƒë·∫°p ƒëi·ªán", key_first: "X", key_middle: "E", key_last: "N", location: "H√†nh lang", type: "xe c√° nh√¢n", category: "personal_vehicle", all_chars: ["X", "E", "ƒê", "A", "P", "ƒê", "I", "E", "N"] },
            { name: "Xe m√°y ƒëi·ªán", key_first: "X", key_middle: "E", key_last: "N", location: "Nh√† xe", type: "xe c√° nh√¢n", category: "personal_vehicle", all_chars: ["X", "E", "M", "A", "Y", "ƒê", "I", "E", "N"] },
            { name: "Xe tay ga", key_first: "X", key_middle: "E", key_last: "A", location: "Nh√† xe", type: "xe c√° nh√¢n", category: "personal_vehicle", all_chars: ["X", "E", "T", "A", "Y", "G", "A"] },
            { name: "Xe s·ªë", key_first: "X", key_middle: "E", key_last: "·ªê", location: "Nh√† xe", type: "xe c√° nh√¢n", category: "personal_vehicle", all_chars: ["X", "E", "S", "O"] },
            { name: "Xe ƒë·ªãa h√¨nh", key_first: "X", key_middle: "E", key_last: "H", location: "Garage", type: "xe c√° nh√¢n", category: "personal_vehicle", all_chars: ["X", "E", "ƒê", "I", "A", "H", "I", "N", "H"] },
            { name: "Xe th·ªÉ thao", key_first: "X", key_middle: "E", key_last: "O", location: "Garage", type: "xe c√° nh√¢n", category: "personal_vehicle", all_chars: ["X", "E", "T", "H", "E", "T", "H", "A", "O"] },
            { name: "Xe gia ƒë√¨nh", key_first: "X", key_middle: "E", key_last: "N", location: "Garage", type: "xe c√° nh√¢n", category: "personal_vehicle", all_chars: ["X", "E", "G", "I", "A", "ƒê", "I", "N", "H"] },
            { name: "Xe b√°n t·∫£i c√° nh√¢n", key_first: "X", key_middle: "E", key_last: "N", location: "Garage", type: "xe c√° nh√¢n", category: "personal_vehicle", all_chars: ["X", "E", "B", "A", "N", "T", "A", "I", "C", "A", "N", "H", "A", "N"] },
            
            // ===== ƒê·ªí D√ôNG C√îNG S·ªû - VƒÇN PH√íNG PH·∫®M (40 m·ª•c) =====
            { name: "B√†n l√†m vi·ªác", key_first: "B", key_middle: "A", key_last: "C", location: "Ph√≤ng l√†m vi·ªác", type: "n·ªôi th·∫•t", category: "office_supply", all_chars: ["B", "A", "N", "L", "A", "M", "V", "I", "E", "C"] },
            { name: "Gh·∫ø vƒÉn ph√≤ng", key_first: "G", key_middle: "H", key_last: "·ªú", location: "Ph√≤ng l√†m vi·ªác", type: "n·ªôi th·∫•t", category: "office_supply", all_chars: ["G", "H", "E", "V", "A", "N", "P", "H", "O", "N", "G"] },
            { name: "M√°y t√≠nh", key_first: "M", key_middle: "A", key_last: "H", location: "B√†n l√†m vi·ªác", type: "thi·∫øt b·ªã", category: "office_supply", all_chars: ["M", "A", "Y", "T", "I", "N", "H"] },
            { name: "M√†n h√¨nh", key_first: "M", key_middle: "A", key_last: "H", location: "B√†n l√†m vi·ªác", type: "thi·∫øt b·ªã", category: "office_supply", all_chars: ["M", "A", "N", "H", "I", "N", "H"] },
            { name: "B√†n ph√≠m", key_first: "B", key_middle: "A", key_last: "M", location: "B√†n l√†m vi·ªác", type: "thi·∫øt b·ªã", category: "office_supply", all_chars: ["B", "A", "N", "P", "H", "I", "M"] },
            { name: "Chu·ªôt m√°y t√≠nh", key_first: "C", key_middle: "H", key_last: "H", location: "B√†n l√†m vi·ªác", type: "thi·∫øt b·ªã", category: "office_supply", all_chars: ["C", "H", "U", "O", "T", "M", "A", "Y", "T", "I", "N", "H"] },
            { name: "M√°y in", key_first: "M", key_middle: "A", key_last: "N", location: "Ph√≤ng vƒÉn ph√≤ng", type: "thi·∫øt b·ªã", category: "office_supply", all_chars: ["M", "A", "Y", "I", "N"] },
            { name: "M√°y photocopy", key_first: "M", key_middle: "A", key_last: "Y", location: "Ph√≤ng vƒÉn ph√≤ng", type: "thi·∫øt b·ªã", category: "office_supply", all_chars: ["M", "A", "Y", "P", "H", "O", "T", "O", "C", "O", "P", "Y"] },
            { name: "M√°y fax", key_first: "M", key_middle: "A", key_last: "X", location: "Ph√≤ng vƒÉn ph√≤ng", type: "thi·∫øt b·ªã", category: "office_supply", all_chars: ["M", "A", "Y", "F", "A", "X"] },
            { name: "ƒêi·ªán tho·∫°i b√†n", key_first: "ƒê", key_middle: "I", key_last: "N", location: "B√†n l√†m vi·ªác", type: "thi·∫øt b·ªã", category: "office_supply", all_chars: ["ƒê", "I", "E", "N", "T", "H", "O", "A", "I", "B", "A", "N"] },
            { name: "T·ªß h·ªì s∆°", key_first: "T", key_middle: "·ª¶", key_last: "∆†", location: "Ph√≤ng l√†m vi·ªác", type: "n·ªôi th·∫•t", category: "office_supply", all_chars: ["T", "U", "H", "O", "S", "O"] },
            { name: "K·ªá s√°ch", key_first: "K", key_middle: "E", key_last: "H", location: "Ph√≤ng l√†m vi·ªác", type: "n·ªôi th·∫•t", category: "office_supply", all_chars: ["K", "E", "S", "A", "C", "H"] },
            { name: "B·∫£ng tr·∫Øng", key_first: "B", key_middle: "A", key_last: "G", location: "Ph√≤ng h·ªçp", type: "thi·∫øt b·ªã", category: "office_supply", all_chars: ["B", "A", "N", "G", "T", "R", "A", "N", "G"] },
            { name: "B·∫£ng t·ª´", key_first: "B", key_middle: "A", key_last: "·ª™", location: "Ph√≤ng h·ªçp", type: "thi·∫øt b·ªã", category: "office_supply", all_chars: ["B", "A", "N", "G", "T", "U"] },
            { name: "M√°y chi·∫øu", key_first: "M", key_middle: "A", key_last: "U", location: "Ph√≤ng h·ªçp", type: "thi·∫øt b·ªã", category: "office_supply", all_chars: ["M", "A", "Y", "C", "H", "I", "E", "U"] },
            
            // ===== THI·∫æT B·ªä C√îNG S·ªû (20 m·ª•c) =====
            { name: "M√°y ch·ªß", key_first: "M", key_middle: "A", key_last: "·ª¶", location: "Ph√≤ng server", type: "thi·∫øt b·ªã IT", category: "office", all_chars: ["M", "A", "Y", "C", "H", "U"] },
            { name: "Switch m·∫°ng", key_first: "S", key_middle: "W", key_last: "H", location: "Ph√≤ng server", type: "thi·∫øt b·ªã IT", category: "office", all_chars: ["S", "W", "I", "T", "C", "H", "M", "A", "N", "G"] },
            { name: "Router", key_first: "R", key_middle: "O", key_last: "R", location: "Ph√≤ng server", type: "thi·∫øt b·ªã IT", category: "office", all_chars: ["R", "O", "U", "T", "E", "R"] },
            { name: "UPS", key_first: "U", key_middle: "P", key_last: "S", location: "Ph√≤ng server", type: "thi·∫øt b·ªã IT", category: "office", all_chars: ["U", "P", "S"] },
            { name: "M√°y scan", key_first: "M", key_middle: "A", key_last: "N", location: "Ph√≤ng vƒÉn ph√≤ng", type: "thi·∫øt b·ªã IT", category: "office", all_chars: ["M", "A", "Y", "S", "C", "A", "N"] },
            { name: "M√°y shredder", key_first: "M", key_middle: "A", key_last: "R", location: "Ph√≤ng vƒÉn ph√≤ng", type: "thi·∫øt b·ªã", category: "office", all_chars: ["M", "A", "Y", "S", "H", "R", "E", "D", "D", "E", "R"] },
            { name: "M√°y t√≠nh b·∫£ng", key_first: "M", key_middle: "A", key_last: "G", location: "B√†n l√†m vi·ªác", type: "thi·∫øt b·ªã IT", category: "office", all_chars: ["M", "A", "Y", "T", "I", "N", "H", "B", "A", "N", "G"] },
            { name: "ƒêi·ªán tho·∫°i di ƒë·ªông", key_first: "ƒê", key_middle: "I", key_last: "N", location: "B√†n l√†m vi·ªác", type: "thi·∫øt b·ªã IT", category: "office", all_chars: ["ƒê", "I", "E", "N", "T", "H", "O", "A", "I", "D", "I", "ƒê", "O", "N", "G"] },
            { name: "Laptop", key_first: "L", key_middle: "A", key_last: "P", location: "B√†n l√†m vi·ªác", type: "thi·∫øt b·ªã IT", category: "office", all_chars: ["L", "A", "P", "T", "O", "P"] },
            { name: "M√°y ·∫£nh", key_first: "M", key_middle: "A", key_last: "A", location: "Ph√≤ng truy·ªÅn th√¥ng", type: "thi·∫øt b·ªã", category: "office", all_chars: ["M", "A", "Y", "A", "N", "H"] },
            { name: "M√°y quay phim", key_first: "M", key_middle: "A", key_last: "M", location: "Ph√≤ng truy·ªÅn th√¥ng", type: "thi·∫øt b·ªã", category: "office", all_chars: ["M", "A", "Y", "Q", "U", "A", "Y", "P", "H", "I", "M"] },
            { name: "M√°y ghi √¢m", key_first: "M", key_middle: "A", key_last: "M", location: "Ph√≤ng h·ªçp", type: "thi·∫øt b·ªã", category: "office", all_chars: ["M", "A", "Y", "G", "H", "I", "A", "M"] },
            { name: "H·ªá th·ªëng √¢m thanh", key_first: "H", key_middle: "E", key_last: "H", location: "Ph√≤ng h·ªçp", type: "thi·∫øt b·ªã", category: "office", all_chars: ["H", "E", "T", "H", "O", "N", "G", "A", "M", "T", "H", "A", "N", "H"] },
            { name: "M√°y t√≠nh ti·ªÅn", key_first: "M", key_middle: "A", key_last: "N", location: "Qu·∫ßy l·ªÖ t√¢n", type: "thi·∫øt b·ªã", category: "office", all_chars: ["M", "A", "Y", "T", "I", "N", "H", "T", "I", "E", "N"] },
            { name: "M√°y ƒë·∫øm ti·ªÅn", key_first: "M", key_middle: "A", key_last: "N", location: "Ph√≤ng k·∫ø to√°n", type: "thi·∫øt b·ªã", category: "office", all_chars: ["M", "A", "Y", "ƒê", "E", "M", "T", "I", "E", "N"] }
        ];
        
        // ==================== TH·ªêNG K√ä ====================
        function updateStatistics() {
            const totalItems = allItems.length;
            const vehicleItems = allItems.filter(item => item.category === "vehicle").length;
            const personalVehicleItems = allItems.filter(item => item.category === "personal_vehicle").length;
            const officeSupplyItems = allItems.filter(item => item.category === "office_supply").length;
            const officeItems = allItems.filter(item => item.category === "office").length;
            const allVehicleItems = vehicleItems + personalVehicleItems;
            const allOfficeItems = officeSupplyItems + officeItems;
            
            document.getElementById('statsBar').innerHTML = `
                <div class="stat-item">
                    <span>üìä T·ªïng s·ªë:</span>
                    <span class="stat-value">${totalItems}</span>
                </div>
                <div class="stat-item">
                    <span>üöó Ph∆∞∆°ng ti·ªán:</span>
                    <span class="stat-value">${allVehicleItems}</span>
                </div>
                <div class="stat-item">
                    <span>üè¢ C√¥ng s·ªü:</span>
                    <span class="stat-value">${allOfficeItems}</span>
                </div>
                <div class="stat-item">
                    <span>üö≤ Xe c√° nh√¢n:</span>
                    <span class="stat-value">${personalVehicleItems}</span>
                </div>
                <div class="stat-item">
                    <span>üìê VƒÉn ph√≤ng:</span>
                    <span class="stat-value">${officeSupplyItems}</span>
                </div>
            `;
        }
        
        // ==================== B·ªò L·ªåC DANH M·ª§C ====================
        function setCategory(category) {
            currentCategory = category;
            
            document.querySelectorAll('.category-button').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`.category-button[data-category="${category}"]`).classList.add('active');
            
            updateStatusText();
        }
        
        function updateStatusText() {
            let categoryText = '';
            switch(currentCategory) {
                case 'all': categoryText = 'T·∫•t c·∫£'; break;
                case 'vehicle': categoryText = 'üöó Ph∆∞∆°ng ti·ªán'; break;
                case 'office': categoryText = 'üè¢ Thi·∫øt b·ªã c√¥ng s·ªü'; break;
                case 'personal_vehicle': categoryText = 'üö≤ Xe c√° nh√¢n'; break;
                case 'office_supply': categoryText = 'üìê VƒÉn ph√≤ng ph·∫©m'; break;
            }
            
            let modeText = '';
            switch(currentMode) {
                case 'first': modeText = 'ƒê·∫¶U'; break;
                case 'middle': modeText = 'GI·ªÆA'; break;
                case 'last': modeText = 'CU·ªêI'; break;
                case 'all_chars': modeText = 'T√åM T·∫§T C·∫¢'; break;
            }
            
            document.getElementById('statusText').innerHTML = 
                `Danh m·ª•c: <strong>${categoryText}</strong> | Ch·∫ø ƒë·ªô: <strong>${modeText}</strong>`;
        }
        
        // ==================== H√ÄM CH·∫æ ƒê·ªò T√åM KI·∫æM ====================
        function setMode(mode) {
            currentMode = mode;
            
            document.querySelectorAll('.mode-button').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`.mode-button[data-mode="${mode}"]`).classList.add('active');
            
            updateStatusText();
        }
        
        function getItemKey(item, mode) {
            switch(mode) {
                case 'first': return item.key_first;
                case 'middle': return item.key_middle;
                case 'last': return item.key_last;
                case 'all_chars': return item.all_chars;
                default: return item.key_first;
            }
        }
        
        function getCharFromInput(inputChar, mode) {
            const char = inputChar.toUpperCase();
            
            // Gi·ªØa: l·∫•y ch·ªØ gi·ªØa (nguy√™n √¢m ho·∫∑c ph·ª• √¢m gi·ªØa)
            if (mode === 'middle') {
                return char; // Tr·∫£ v·ªÅ ch√≠nh ch·ªØ ƒë√≥ ƒë·ªÉ t√¨m
            }
            
            return char;
        }
        
        // ==================== H√ÄM X·ª¨ L√ù T√åM KI·∫æM ====================
        function searchItems() {
            const input = document.getElementById('charInput').value.trim();
            
            if (!input) {
                alert("Vui l√≤ng nh·∫≠p m·ªôt t√™n ri√™ng!");
                return;
            }
            
            const normalizedInput = input.normalize("NFD").replace(/[\u0300-\u036f]/g, "").toUpperCase();
            
            searchChars = [];
            for (let char of normalizedInput) {
                if (char !== ' ') {
                    const processedChar = getCharFromInput(char, currentMode);
                    if (processedChar) {
                        searchChars.push(processedChar);
                    }
                }
            }
            
            if (searchChars.length === 0) {
                alert("Kh√¥ng t√¨m th·∫•y ch·ªØ c√°i ph√π h·ª£p!");
                return;
            }
            
            // Reset d·ªØ li·ªáu t√¨m ki·∫øm
            allFoundItems = [];
            displayedItems = [];
            usedItemIds.clear();
            searchIndex = 0;
            
            displayCharSequence(searchChars);
            document.getElementById('charSequenceContainer').style.display = 'block';
            
            // L·ªçc danh s√°ch theo danh m·ª•c
            let filteredItems = allItems;
            if (currentCategory !== 'all') {
                filteredItems = allItems.filter(item => item.category === currentCategory);
            }
            
            // T√¨m ƒë·ªì v·∫≠t t√πy theo ch·∫ø ƒë·ªô
            if (currentMode === 'all_chars') {
                // Ch·∫ø ƒë·ªô T√åM T·∫§T C·∫¢: t√¨m t·ª´ c√≥ ch·ª©a t·∫•t c·∫£ c√°c ch·ªØ c√°i
                findItemsWithAllChars(filteredItems);
            } else {
                // C√°c ch·∫ø ƒë·ªô kh√°c: t√¨m m·ªói ch·ªØ m·ªôt m√≥n ƒë·ªì
                findItemsOnePerChar(filteredItems);
            }
            
            // L·∫•y 4 m√≥n ƒë·∫ßu ti√™n ƒë·ªÉ hi·ªÉn th·ªã
            displayedItems = allFoundItems.slice(0, itemsPerPage);
            
            // Hi·ªÉn th·ªã k·∫øt qu·∫£
            displayResults();
            updateSearchStats();
            updateStatusText();
            
            // K√≠ch ho·∫°t n√∫t "T√¨m ti·∫øp" n·∫øu c√≤n m√≥n ƒë·ªÉ t√¨m
            document.getElementById('nextBtn').disabled = (allFoundItems.length <= displayedItems.length);
        }
        
        function findItemsOnePerChar(filteredItems) {
            // T√¨m m·ªói ch·ªØ m·ªôt m√≥n ƒë·ªì (ch·∫ø ƒë·ªô ƒê·∫¶U, GI·ªÆA, CU·ªêI)
            for (let i = 0; i < searchChars.length; i++) {
                const char = searchChars[i];
                
                const matchedItems = filteredItems.filter(item => {
                    const itemKey = getItemKey(item, currentMode);
                    if (currentMode === 'all_chars') {
                        return itemKey.includes(char) && !usedItemIds.has(item.name + "_" + item.category);
                    } else {
                        return itemKey === char && !usedItemIds.has(item.name + "_" + item.category);
                    }
                });
                
                if (matchedItems.length > 0) {
                    const randomIndex = Math.floor(Math.random() * matchedItems.length);
                    const selectedItem = { ...matchedItems[randomIndex] };
                    
                    selectedItem.matchedChar = char;
                    selectedItem.charIndex = i + 1;
                    selectedItem.isNotFound = false;
                    selectedItem.specialMode = false;
                    
                    allFoundItems.push(selectedItem);
                    usedItemIds.add(selectedItem.name + "_" + selectedItem.category);
                } else {
                    allFoundItems.push({
                        name: "Kh√¥ng t√¨m th·∫•y",
                        location: getLocationByCategory(currentCategory),
                        matchedChar: char,
                        charIndex: i + 1,
                        isNotFound: true,
                        specialMode: false
                    });
                }
            }
        }
        
        function findItemsWithAllChars(filteredItems) {
            // Ch·∫ø ƒë·ªô T√åM T·∫§T C·∫¢: t√¨m c√°c t·ª´ c√≥ ch·ª©a t·∫•t c·∫£ c√°c ch·ªØ c√°i nh·∫≠p v√†o
            // V√≠ d·ª•: "nim" ‚Üí t√¨m t·ª´ c√≥ ch·ª©a N, I, M
            
            // T√¨m t·∫•t c·∫£ m√≥n ƒë·ªì c√≥ ch·ª©a t·∫•t c·∫£ c√°c ch·ªØ c√°i
            const matchedItems = filteredItems.filter(item => {
                const itemChars = item.all_chars;
                // Ki·ªÉm tra xem t·∫•t c·∫£ c√°c ch·ªØ c√°i t√¨m ki·∫øm c√≥ trong m√≥n ƒë·ªì kh√¥ng
                return searchChars.every(char => 
                    itemChars.includes(char)
                ) && !usedItemIds.has(item.name + "_" + item.category);
            });
            
            if (matchedItems.length > 0) {
                // L·∫•y ng·∫´u nhi√™n m·ªôt m√≥n ƒë·ªì t·ª´ danh s√°ch kh·ªõp
                const randomIndex = Math.floor(Math.random() * matchedItems.length);
                const selectedItem = { ...matchedItems[randomIndex] };
                
                selectedItem.matchedChar = searchChars.join('');
                selectedItem.charIndex = 1;
                selectedItem.isNotFound = false;
                selectedItem.specialMode = true;
                selectedItem.matchedChars = searchChars;
                
                allFoundItems.push(selectedItem);
                usedItemIds.add(selectedItem.name + "_" + selectedItem.category);
            } else {
                // N·∫øu kh√¥ng t√¨m th·∫•y, t√¨m m√≥n ƒë·ªì c√≥ ch·ª©a nhi·ªÅu ch·ªØ c√°i nh·∫•t
                findBestMatchWithAllChars(filteredItems);
            }
        }
        
        function findBestMatchWithAllChars(filteredItems) {
            // T√¨m m√≥n ƒë·ªì c√≥ ch·ª©a nhi·ªÅu ch·ªØ c√°i t√¨m ki·∫øm nh·∫•t
            let bestMatch = null;
            let maxMatchCount = 0;
            
            filteredItems.forEach(item => {
                if (usedItemIds.has(item.name + "_" + item.category)) return;
                
                const itemChars = item.all_chars;
                const matchCount = searchChars.filter(char => 
                    itemChars.includes(char)
                ).length;
                
                if (matchCount > maxMatchCount) {
                    maxMatchCount = matchCount;
                    bestMatch = item;
                }
            });
            
            if (bestMatch && maxMatchCount > 0) {
                const selectedItem = { ...bestMatch };
                selectedItem.matchedChar = searchChars.join('');
                selectedItem.charIndex = 1;
                selectedItem.isNotFound = false;
                selectedItem.specialMode = true;
                selectedItem.matchedChars = searchChars;
                selectedItem.matchCount = maxMatchCount;
                
                allFoundItems.push(selectedItem);
                usedItemIds.add(selectedItem.name + "_" + selectedItem.category);
            } else {
                allFoundItems.push({
                    name: "Kh√¥ng t√¨m th·∫•y t·ª´ ch·ª©a t·∫•t c·∫£ c√°c ch·ªØ",
                    location: getLocationByCategory(currentCategory),
                    matchedChar: searchChars.join(''),
                    charIndex: 1,
                    isNotFound: true,
                    specialMode: true
                });
            }
        }
        
        function getLocationByCategory(category) {
            const locations = {
                'vehicle': 'B√£i ƒë·ªó xe',
                'personal_vehicle': 'Garage/Nh√† xe',
                'office_supply': 'VƒÉn ph√≤ng',
                'office': 'Ph√≤ng thi·∫øt b·ªã',
                'all': 'Kho ch·ª©a'
            };
            return locations[category] || 'Kho ch·ª©a';
        }
        
        // ==================== HI·ªÇN TH·ªä CHU·ªñI CH·ªÆ C√ÅI ====================
        function displayCharSequence(chars) {
            const container = document.getElementById('charSequenceDisplay');
            container.innerHTML = '';
            
            chars.forEach((char, index) => {
                const charBox = document.createElement('div');
                charBox.className = 'char-box';
                charBox.textContent = char;
                charBox.title = `Ch·ªØ c√°i th·ª© ${index + 1}: ${char}`;
                
                const indexBadge = document.createElement('div');
                indexBadge.className = 'char-index';
                indexBadge.textContent = index + 1;
                charBox.appendChild(indexBadge);
                
                container.appendChild(charBox);
            });
        }
        
        // ==================== HI·ªÇN TH·ªä K·∫æT QU·∫¢ ====================
        function displayResults() {
            const resultBox = document.getElementById('resultBox');
            
            if (displayedItems.length === 0) {
                resultBox.innerHTML = `
                    <div style="color: #bdc3c7; text-align: center; padding: 25px; font-size: 0.95em;">
                        ‚è≥ Kh√¥ng t√¨m th·∫•y k·∫øt qu·∫£ n√†o
                    </div>
                `;
                return;
            }
            
            const input = document.getElementById('charInput').value.trim();
            let modeText = '';
            switch(currentMode) {
                case 'first': modeText = 'ƒê·∫ßu'; break;
                case 'middle': modeText = 'Gi·ªØa'; break;
                case 'last': modeText = 'Cu·ªëi'; break;
                case 'all_chars': modeText = 'T√¨m t·∫•t c·∫£'; break;
            }
            
            let categoryText = '';
            switch(currentCategory) {
                case 'all': categoryText = 'T·∫•t c·∫£'; break;
                case 'vehicle': categoryText = 'Ph∆∞∆°ng ti·ªán'; break;
                case 'office': categoryText = 'Thi·∫øt b·ªã c√¥ng s·ªü'; break;
                case 'personal_vehicle': categoryText = 'Xe c√° nh√¢n'; break;
                case 'office_supply': categoryText = 'VƒÉn ph√≤ng ph·∫©m'; break;
            }
            
            const foundCount = allFoundItems.filter(item => !item.isNotFound).length;
            const totalInDatabase = currentCategory === 'all' ? allItems.length : 
                allItems.filter(item => item.category === currentCategory).length;
            
            const summaryClass = currentMode === 'all_chars' ? 'summary-box special-summary' : 'summary-box';
            
            let resultHTML = `
                <div class="${summaryClass}">
                    <div style="font-weight: bold; color: #2c3e50; margin-bottom: 5px;">
                        ${currentMode === 'all_chars' ? '‚ú®' : 'üìä'} "${input}" - ${categoryText} - Ch·∫ø ƒë·ªô: ${modeText}
                    </div>
                    <div style="color: #555; font-size: 0.85em;">
                        ƒêang hi·ªÉn th·ªã: ${displayedItems.length}/${allFoundItems.length} k·∫øt qu·∫£<br>
                        ${currentMode === 'all_chars' ? 'T√¨m t·ª´ ch·ª©a t·∫•t c·∫£ ch·ªØ c√°i' : `T√¨m th·∫•y: ${foundCount}/${searchChars.length} ch·ªØ c√°i`}
                    </div>
                </div>
            `;
            
            displayedItems.forEach(item => {
                if (item.isNotFound) {
                    const itemClass = item.specialMode ? 'found-item not-found special' : 'found-item not-found';
                    resultHTML += `
                        <div class="${itemClass}">
                            <div class="char-match">${item.matchedChar}</div>
                            <div class="item-info">
                                <div class="item-name">‚ùå ${item.name}</div>
                                <div class="item-location">${item.location}</div>
                                ${currentMode === 'all_chars' ? 
                                    `<div class="item-description">Kh√¥ng t√¨m th·∫•y t·ª´ ch·ª©a: ${searchChars.join(', ')}</div>` : 
                                    ''}
                            </div>
                            <div style="color: #e74c3c; font-weight: bold; font-size: 0.85em;">
                                #${item.charIndex}
                            </div>
                        </div>
                    `;
                } else {
                    const itemClass = item.specialMode ? 'found-item special' : 'found-item';
                    resultHTML += `
                        <div class="${itemClass}">
                            <div class="char-match">${item.specialMode ? '‚ú®' : item.matchedChar}</div>
                            <div class="item-info">
                                <div class="item-name">${item.name}</div>
                                <div class="item-location">${item.location}</div>
                                ${currentMode === 'all_chars' ? 
                                    `<div class="item-description">Ch·ª©a t·∫•t c·∫£ ch·ªØ: ${searchChars.join(', ')}</div>` : 
                                    ''}
                            </div>
                            <div style="color: ${item.specialMode ? '#9b59b6' : '#3498db'}; font-weight: bold; font-size: 0.85em;">
                                #${item.charIndex}
                            </div>
                        </div>
                    `;
                }
            });
            
            resultBox.innerHTML = resultHTML;
            
            // C·∫≠p nh·∫≠t tr·∫°ng th√°i ch·ªØ c√°i
            updateCharSequenceStatus();
        }
        
        function updateCharSequenceStatus() {
            const charBoxes = document.querySelectorAll('.char-box');
            
            if (currentMode === 'all_chars') {
                // Ch·∫ø ƒë·ªô T√åM T·∫§T C·∫¢: t√¥ m√†u t·∫•t c·∫£ n·∫øu t√¨m th·∫•y
                charBoxes.forEach((box, index) => {
                    box.classList.remove('found', 'not-found', 'special-found');
                    
                    if (displayedItems.length > 0 && displayedItems[0].specialMode && !displayedItems[0].isNotFound) {
                        box.classList.add('special-found');
                    } else if (displayedItems.length > 0 && displayedItems[0].isNotFound) {
                        box.classList.add('not-found');
                    }
                });
            } else {
                // C√°c ch·∫ø ƒë·ªô kh√°c
                charBoxes.forEach((box, index) => {
                    box.classList.remove('found', 'not-found', 'special-found');
                    
                    if (index < displayedItems.length) {
                        const item = displayedItems[index];
                        if (item.isNotFound) {
                            box.classList.add('not-found');
                        } else {
                            box.classList.add('found');
                        }
                    }
                });
            }
        }
        
        // ==================== T√åM TI·∫æP ====================
        function nextSearch() {
            // L·∫•y c√°c m√≥n ti·∫øp theo ch∆∞a hi·ªÉn th·ªã
            const remainingItems = allFoundItems.slice(displayedItems.length);
            
            if (remainingItems.length === 0) {
                document.getElementById('nextBtn').disabled = true;
                return;
            }
            
            // L·∫•y t·ªëi ƒëa itemsPerPage m√≥n ti·∫øp theo
            const nextItems = remainingItems.slice(0, itemsPerPage);
            displayedItems = [...displayedItems, ...nextItems];
            
            // Hi·ªÉn th·ªã k·∫øt qu·∫£ m·ªõi
            displayResults();
            updateSearchStats();
            
            // N·∫øu ƒë√£ hi·ªÉn th·ªã h·∫øt, v√¥ hi·ªáu h√≥a n√∫t "T√¨m ti·∫øp"
            if (displayedItems.length >= allFoundItems.length) {
                document.getElementById('nextBtn').disabled = true;
                
                // Hi·ªÉn th·ªã th√¥ng b√°o ho√†n t·∫•t
                const resultBox = document.getElementById('resultBox');
                const endMessage = document.createElement('div');
                endMessage.style.cssText = `
                    text-align: center; 
                    padding: 12px; 
                    color: #27ae60; 
                    background: #e8f5e9; 
                    border-radius: 6px; 
                    margin-top: 10px;
                    border: 1px solid #c8e6c9;
                    font-size: 0.85em;
                `;
                const foundCount = allFoundItems.filter(item => !item.isNotFound).length;
                endMessage.innerHTML = `
                    <div style="font-size: 1em; margin-bottom: 6px;">‚úÖ</div>
                    <strong>ƒê√£ hi·ªÉn th·ªã t·∫•t c·∫£ k·∫øt qu·∫£!</strong><br>
                    <span>${currentMode === 'all_chars' ? 'ƒê√£ t√¨m t·ª´ ch·ª©a t·∫•t c·∫£ ch·ªØ c√°i' : `${foundCount}/${searchChars.length} ch·ªØ c√°i ƒë∆∞·ª£c t√¨m th·∫•y`}</span>
                `;
                resultBox.appendChild(endMessage);
            }
        }
        
        function updateSearchStats() {
            const foundCount = allFoundItems.filter(item => !item.isNotFound).length;
            const displayedCount = displayedItems.length;
            const totalCount = allFoundItems.length;
            const remainingCount = totalCount - displayedCount;
            
            if (currentMode === 'all_chars') {
                document.getElementById('foundStats').textContent = 
                    `T√¨m t·ª´ ch·ª©a: ${searchChars.length} ch·ªØ`;
                document.getElementById('remainingStats').textContent = 
                    `C√≤n l·∫°i: ${remainingCount}`;
            } else {
                document.getElementById('foundStats').textContent = 
                    `T√¨m th·∫•y: ${foundCount}/${searchChars.length}`;
                document.getElementById('remainingStats').textContent = 
                    `C√≤n l·∫°i: ${remainingCount}`;
            }
        }
        
        // ==================== KH·ªûI T·∫†O ====================
        window.addEventListener('DOMContentLoaded', function() {
            setMode('first');
            setCategory('all');
            updateStatistics();
            document.getElementById('charInput').focus();
        });
        
        document.getElementById('charInput').addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                searchItems();
            }
        });
        
        const examples = ['Nam', 'Anh', 'Linh', 'Minh', 'Huy', 'Long'];
        let exampleIndex = 0;
        
        document.getElementById('charInput').addEventListener('focus', function() {
            if (!this.value) {
                this.placeholder = "V√≠ d·ª•: " + examples[exampleIndex];
                exampleIndex = (exampleIndex + 1) % examples.length;
            }
        });
        
        // Th√™m g·ª£i √Ω cho ch·∫ø ƒë·ªô T√åM T·∫§T C·∫¢
        const allCharsExamples = ['nim', 'xem', 'oto', 'may', 'ban'];
        let allCharsExampleIndex = 0;
        
        setInterval(() => {
            const input = document.getElementById('charInput');
            if (!input.value && currentMode === 'all_chars') {
                input.placeholder = "V√≠ d·ª•: " + allCharsExamples[allCharsExampleIndex] + " (t√¨m t·ª´ ch·ª©a t·∫•t c·∫£ ch·ªØ)";
                allCharsExampleIndex = (allCharsExampleIndex + 1) % allCharsExamples.length;
            }
        }, 4000);
    </script>
</body>
</html>