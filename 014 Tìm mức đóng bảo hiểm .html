<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>BHXH & Can Chi ‚Äì K·∫ø ho·∫°ch tu·ªïi gi√†</title>
<style>
body { font-family: Arial; margin: 20px; line-height: 1.6; }
h2,h3 { color: #003366; }
select,input,button { padding: 6px; margin: 4px; }
table { border-collapse: collapse; width: 100%; margin-top: 10px; }
th,td { border: 1px solid #999; padding: 6px; text-align: center; }
th { background: #f0f0f0; }
.box { border: 1px solid #ccc; padding: 10px; margin-top: 15px; }
.note { color: #555; font-style: italic; }
</style>
</head>
<body>

<h2>üìå BHXH ‚Äì Can Chi ‚Äì K·∫ø ho·∫°ch tu·ªïi gi√†</h2>

<div class="box">
<h3>1Ô∏è‚É£ Ch·ªçn Can Chi</h3>

<label>B·∫£ng Can Chi:</label>
<select id="bang">
  <option value="60">L·ª•c th·∫≠p hoa gi√°p (60)</option>
  <option value="107">B·∫£ng m·ªü r·ªông (107)</option>
</select>

<label>Can Chi:</label>
<select id="canChiSelect"></select>

<br><br>
<label>Ho·∫∑c nh·∫≠p nƒÉm sinh:</label>
<input type="number" id="namSinh" placeholder="VD: 1971">
<button onclick="chonTheoNam()">L·∫•y Can Chi</button>

<p id="hienCanChi" class="note"></p>

<button onclick="traCuu()">üîç Tra m·ª©c BHXH</button>
</div>

<div class="box">
<h3>2Ô∏è‚É£ K·∫øt qu·∫£ tra c·ª©u</h3>

<table>
<thead>
<tr>
<th>STT BH</th>
<th>Thu nh·∫≠p</th>
<th>M·ª©c ƒë√≥ng</th>
</tr>
</thead>
<tbody id="ketqua"></tbody>
</table>

<p>
<strong>T·ªïng thu nh·∫≠p:</strong> <span id="tongThuNhap">0</span> VNƒê<br>
<strong>T·ªïng m·ª©c ƒë√≥ng:</strong> <span id="tongDong">0</span> VNƒê
</p>
</div>

<div class="box">
<h3>3Ô∏è‚É£ D·ª± t√≠nh l∆∞∆°ng h∆∞u</h3>

<label>S·ªë nƒÉm ƒë√≥ng:</label>
<input type="number" id="soNam" value="20">

<button onclick="tinhHuu()">T√≠nh l∆∞∆°ng h∆∞u</button>

<p>
<strong>Thu nh·∫≠p b√¨nh qu√¢n:</strong> <span id="binhQuan">0</span> VNƒê<br>
<strong>T·ª∑ l·ªá h∆∞·ªüng:</strong> <span id="tyLe">0</span> %<br>
<strong>L∆∞∆°ng h∆∞u / th√°ng:</strong> <span id="luongHuu">0</span> VNƒê
</p>
</div>

<div class="box">
<h3>4Ô∏è‚É£ 3 m·ª©c ‚Äì 3 l·ªùi khuy√™n</h3>

<ul>
<li><strong>M·ª©c A (th·∫•p):</strong> Gi·ªØ quy·ªÅn h∆∞u ‚Äì ph√π h·ª£p thu nh·∫≠p b·∫•p b√™nh</li>
<li><strong>M·ª©c B (trung):</strong> T·ªëi ∆∞u ‚Äì ƒë·ªß s·ªëng ‚Äì √≠t r·ªßi ro</li>
<li><strong>M·ª©c C (cao):</strong> An nh√†n ‚Äì ch·ªß ƒë·ªông tu·ªïi gi√†</li>
</ul>

<p class="note">
Khuy·∫øn ngh·ªã: tr·∫ª ‚Üí A/B, trung ni√™n ‚Üí B, 10‚Äì15 nƒÉm cu·ªëi ‚Üí n√¢ng C
</p>
</div>

<script>
// ===== CAN CHI =====
const canChi60 = [
"Gi√°p T√Ω","·∫§t S·ª≠u","B√≠nh D·∫ßn","ƒêinh M√£o","M·∫≠u Th√¨n","K·ª∑ T·ªµ",
"Canh Ng·ªç","T√¢n M√πi","Nh√¢m Th√¢n","Qu√Ω D·∫≠u",
"Gi√°p Tu·∫•t","·∫§t H·ª£i","B√≠nh T√Ω","ƒêinh S·ª≠u","M·∫≠u D·∫ßn","K·ª∑ M√£o",
"Canh Th√¨n","T√¢n T·ªµ","Nh√¢m Ng·ªç","Qu√Ω M√πi",
"Gi√°p Th√¢n","·∫§t D·∫≠u","B√≠nh Tu·∫•t","ƒêinh H·ª£i",
"M·∫≠u T√Ω","K·ª∑ S·ª≠u","Canh D·∫ßn","T√¢n M√£o","Nh√¢m Th√¨n","Qu√Ω T·ªµ",
"Gi√°p Ng·ªç","·∫§t M√πi","B√≠nh Th√¢n","ƒêinh D·∫≠u","M·∫≠u Tu·∫•t","K·ª∑ H·ª£i",
"Canh T√Ω","T√¢n S·ª≠u","Nh√¢m D·∫ßn","Qu√Ω M√£o",
"Gi√°p Th√¨n","·∫§t T·ªµ","B√≠nh Ng·ªç","ƒêinh M√πi","M·∫≠u Th√¢n","K·ª∑ D·∫≠u",
"Canh Tu·∫•t","T√¢n H·ª£i","Nh√¢m T√Ω","Qu√Ω S·ª≠u",
"Gi√°p D·∫ßn","·∫§t M√£o","B√≠nh Th√¨n","ƒêinh T·ªµ","M·∫≠u Ng·ªç","K·ª∑ M√πi",
"Canh Th√¢n","T√¢n D·∫≠u","Nh√¢m Tu·∫•t","Qu√Ω H·ª£i"
];

// ===== BHXH DATA =====
const bhxh = [];
let thu = 1500000, dong = 330000;
for (let i = 1; i <= 155; i++) {
  bhxh.push({ stt: i, thu, dong, selected:false });
  thu += 50000;
  dong += 11000;
}

// ===== LOAD CAN CHI =====
function loadCanChi() {
  const select = document.getElementById("canChiSelect");
  select.innerHTML = "";
  canChi60.forEach((cc,i)=>{
    let o=document.createElement("option");
    o.value=i+1;
    o.text=(i+1)+" ‚Äì "+cc;
    select.appendChild(o);
  });
}
loadCanChi();

// ===== CAN CHI NƒÇM =====
function canChiNam(y){
  const can=["Gi√°p","·∫§t","B√≠nh","ƒêinh","M·∫≠u","K·ª∑","Canh","T√¢n","Nh√¢m","Qu√Ω"];
  const chi=["T√Ω","S·ª≠u","D·∫ßn","M√£o","Th√¨n","T·ªµ","Ng·ªç","M√πi","Th√¢n","D·∫≠u","Tu·∫•t","H·ª£i"];
  return can[(y-4)%10] + " " + chi[(y-4)%12];
}

function chonTheoNam(){
  const y=parseInt(document.getElementById("namSinh").value);
  if(!y) return;
  const cc=canChiNam(y);
  document.getElementById("hienCanChi").innerText="Can Chi nƒÉm sinh: "+cc;
  const idx=canChi60.indexOf(cc);
  if(idx>=0) document.getElementById("canChiSelect").value=idx+1;
}

// ===== TRA C·ª®U =====
function traCuu(){
  const can=parseInt(canChiSelect.value);
  let tongThu=0,tongDong=0;
  ketqua.innerHTML="";
  bhxh.forEach(r=>{
    r.selected=false;
    let du=r.stt%60; if(du===0) du=60;
    if(du===can){
      r.selected=true;
      tongThu+=r.thu; tongDong+=r.dong;
      ketqua.innerHTML+=`<tr>
      <td>${r.stt}</td>
      <td>${r.thu.toLocaleString()}</td>
      <td>${r.dong.toLocaleString()}</td></tr>`;
    }
  });
  tongThuNhap.innerText=tongThu.toLocaleString();
  tongDong.innerText=tongDong.toLocaleString();
}

// ===== T√çNH H∆ØU =====
function tinhHuu(){
  let sum=0,cnt=0;
  bhxh.forEach(r=>{ if(r.selected){ sum+=r.thu; cnt++; }});
  if(cnt===0) return alert("Ch∆∞a c√≥ d·ªØ li·ªáu tra");
  const binh=sum/cnt;
  let nam=parseInt(soNam.value);
  let tl=45+(nam-20)*2; if(tl>75) tl=75;
  binhQuan.innerText=Math.round(binh).toLocaleString();
  tyLe.innerText=tl;
  luongHuu.innerText=Math.round(binh*tl/100).toLocaleString();
}
</script>

</body>
</html>
