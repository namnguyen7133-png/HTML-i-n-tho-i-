<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>M√†u s·∫Øc ‚Äì BPM ‚Äì C·∫£m x√∫c (101‚Äì150)</title>
<style>
    :root {
        --primary-color: #2d8f3a;
        --secondary-color: #4caf50;
        --accent-color: #ff9800;
        --light-bg: #f1f8e9;
        --dark-text: #1b5e20;
        --light-text: #fff;
        --border-color: #c8e6c9;
        --shadow: 0 4px 12px rgba(0,0,0,0.1);
        --radius: 8px;
    }

    * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
    }

    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
        color: var(--dark-text);
        line-height: 1.6;
        padding: 15px;
        min-height: 100vh;
    }

    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 10px;
    }

    header {
        text-align: center;
        margin-bottom: 25px;
        padding: 20px;
        background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
        color: var(--light-text);
        border-radius: var(--radius);
        box-shadow: var(--shadow);
    }

    h1 {
        font-size: 1.8rem;
        margin-bottom: 5px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
    }

    .subtitle {
        font-size: 1rem;
        opacity: 0.9;
    }

    .controls-section {
        background-color: white;
        border-radius: var(--radius);
        padding: 20px;
        margin-bottom: 25px;
        box-shadow: var(--shadow);
    }

    .controls-title {
        font-size: 1.2rem;
        margin-bottom: 15px;
        color: var(--primary-color);
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .controls-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 15px;
        margin-bottom: 20px;
    }

    .control-group {
        display: flex;
        flex-direction: column;
    }

    .control-label {
        font-weight: 600;
        margin-bottom: 5px;
        color: #2e7d32;
        display: flex;
        align-items: center;
        gap: 5px;
    }

    .dropdown-container {
        position: relative;
    }

    .dropdown-btn {
        width: 100%;
        padding: 12px 15px;
        border: 2px solid var(--border-color);
        border-radius: var(--radius);
        background-color: white;
        text-align: left;
        cursor: pointer;
        font-size: 1rem;
        transition: all 0.3s ease;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .dropdown-btn:hover, .dropdown-btn.active {
        border-color: var(--primary-color);
        box-shadow: 0 0 0 2px rgba(45, 143, 58, 0.1);
    }

    .dropdown-content {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        width: 100%;
        max-height: 200px;
        overflow-y: auto;
        background-color: white;
        border: 1px solid var(--border-color);
        border-radius: var(--radius);
        box-shadow: var(--shadow);
        z-index: 100;
        margin-top: 5px;
    }

    .dropdown-content.show {
        display: block;
    }

    .dropdown-item {
        padding: 10px 15px;
        cursor: pointer;
        transition: background-color 0.2s;
    }

    .dropdown-item:hover {
        background-color: #e8f5e9;
    }

    .selected-items {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-top: 10px;
    }

    .selected-item {
        background-color: #e8f5e9;
        border: 1px solid #a5d6a7;
        border-radius: 20px;
        padding: 5px 12px;
        font-size: 0.9rem;
        display: flex;
        align-items: center;
        gap: 5px;
    }

    .remove-item {
        background: none;
        border: none;
        color: #f44336;
        cursor: pointer;
        font-weight: bold;
        font-size: 1.1rem;
        line-height: 1;
    }

    .buttons-section {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin-top: 20px;
        flex-wrap: wrap;
    }

    .btn {
        padding: 12px 25px;
        border: none;
        border-radius: var(--radius);
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 1rem;
    }

    .btn-primary {
        background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
        color: white;
    }

    .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 12px rgba(45, 143, 58, 0.2);
    }

    .btn-danger {
        background: linear-gradient(to right, #f44336, #ff5252);
        color: white;
    }

    .btn-danger:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 12px rgba(244, 67, 54, 0.2);
    }

    .table-container {
        background-color: white;
        border-radius: var(--radius);
        padding: 20px;
        margin-bottom: 25px;
        box-shadow: var(--shadow);
        overflow-x: auto;
    }

    table {
        width: 100%;
        border-collapse: collapse;
        min-width: 800px;
    }

    th {
        background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
        color: white;
        padding: 15px;
        text-align: left;
        position: sticky;
        top: 0;
        z-index: 10;
    }

    td {
        padding: 12px 15px;
        border-bottom: 1px solid var(--border-color);
    }

    tr:hover {
        background-color: #f9f9f9;
    }

    .color-box {
        width: 60px;
        height: 30px;
        border-radius: 4px;
        border: 1px solid rgba(0,0,0,0.1);
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .nav-buttons {
        display: flex;
        justify-content: space-between;
        margin-top: 25px;
        flex-wrap: wrap;
        gap: 15px;
    }

    .nav-link {
        padding: 12px 25px;
        background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
        color: white;
        text-decoration: none;
        border-radius: var(--radius);
        font-weight: 600;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .nav-link:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 12px rgba(45, 143, 58, 0.2);
    }

    .explanation-section {
        background-color: white;
        border-radius: var(--radius);
        padding: 20px;
        margin-top: 25px;
        box-shadow: var(--shadow);
    }

    .explanation-title {
        font-size: 1.2rem;
        margin-bottom: 15px;
        color: var(--primary-color);
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .explanation-list {
        list-style-type: none;
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 15px;
    }

    .explanation-item {
        background-color: #f9f9f9;
        border-radius: 6px;
        padding: 15px;
        border-left: 4px solid var(--primary-color);
    }

    .term {
        font-weight: 600;
        color: var(--primary-color);
        display: block;
        margin-bottom: 5px;
        font-size: 1.1rem;
    }

    .meaning {
        color: #555;
        line-height: 1.5;
    }

    footer {
        text-align: center;
        margin-top: 30px;
        padding-top: 20px;
        border-top: 1px solid var(--border-color);
        color: #666;
        font-size: 0.9rem;
    }

    @media (max-width: 768px) {
        .controls-grid {
            grid-template-columns: 1fr;
        }
        
        .explanation-list {
            grid-template-columns: 1fr;
        }
        
        h1 {
            font-size: 1.5rem;
        }
        
        .btn, .nav-link {
            width: 100%;
            justify-content: center;
        }
        
        .nav-buttons {
            flex-direction: column;
        }
    }

    /* Animation for selected rows */
    @keyframes highlight {
        0% { background-color: rgba(255, 235, 59, 0.3); }
        100% { background-color: transparent; }
    }

    .highlight {
        animation: highlight 2s ease;
    }
</style>
</head>

<body>
<div class="container">
    <header>
        <h1>üé® M√†u s·∫Øc ‚Äì BPM ‚Äì C·∫£m x√∫c (101‚Äì150)</h1>
        <p class="subtitle">Kh√°m ph√° m·ªëi li√™n h·ªá gi·ªØa m√†u s·∫Øc, nh·ªãp tim v√† tr·∫°ng th√°i c·∫£m x√∫c</p>
    </header>

    <section class="controls-section">
        <h2 class="controls-title">üìä B·ªô l·ªçc d·ªØ li·ªáu</h2>
        
        <div class="controls-grid">
            <!-- BPM Dropdown -->
            <div class="control-group">
                <label class="control-label">üéµ BPM (Nh·ªãp tim m·ªói ph√∫t)</label>
                <div class="dropdown-container">
                    <button class="dropdown-btn" data-column="bpm">Ch·ªçn BPM...</button>
                    <div class="dropdown-content" id="bpmDropdown">
                        <!-- BPM options will be populated by JavaScript -->
                    </div>
                </div>
                <div class="selected-items" id="bpmSelected"></div>
            </div>

            <!-- M√†u da Dropdown -->
            <div class="control-group">
                <label class="control-label">üë§ M√†u da</label>
                <div class="dropdown-container">
                    <button class="dropdown-btn" data-column="skin">Ch·ªçn lo·∫°i da...</button>
                    <div class="dropdown-content" id="skinDropdown">
                        <div class="dropdown-item" data-value="nong">üî• Da N√≥ng</div>
                        <div class="dropdown-item" data-value="lanh">‚ùÑÔ∏è Da L·∫°nh</div>
                        <div class="dropdown-item" data-value="am">üå§ Da ·∫§m</div>
                    </div>
                </div>
                <div class="selected-items" id="skinSelected"></div>
            </div>

            <!-- C·∫£m x√∫c Dropdown -->
            <div class="control-group">
                <label class="control-label">üòä C·∫£m x√∫c</label>
                <div class="dropdown-container">
                    <button class="dropdown-btn" data-column="emotion">Ch·ªçn c·∫£m x√∫c...</button>
                    <div class="dropdown-content" id="emotionDropdown">
                        <!-- Emotion options will be populated by JavaScript -->
                    </div>
                </div>
                <div class="selected-items" id="emotionSelected"></div>
            </div>

            <!-- Tr·∫°ng th√°i c∆° th·ªÉ Dropdown -->
            <div class="control-group">
                <label class="control-label">üí™ Tr·∫°ng th√°i c∆° th·ªÉ</label>
                <div class="dropdown-container">
                    <button class="dropdown-btn" data-column="body">Ch·ªçn tr·∫°ng th√°i...</button>
                    <div class="dropdown-content" id="bodyDropdown">
                        <!-- Body state options will be populated by JavaScript -->
                    </div>
                </div>
                <div class="selected-items" id="bodySelected"></div>
            </div>
        </div>

        <!-- Hex Color Dropdown -->
        <div class="control-group">
            <label class="control-label">üåà M√†u s·∫Øc (Hex)</label>
            <div class="dropdown-container">
                <button class="dropdown-btn" data-column="color">Ch·ªçn m√†u...</button>
                <div class="dropdown-content" id="colorDropdown">
                    <!-- Color options will be populated by JavaScript -->
                </div>
            </div>
            <div class="selected-items" id="colorSelected"></div>
        </div>

        <!-- Buttons -->
        <div class="buttons-section">
            <button class="btn btn-primary" id="filterBtn">
                <span>üîç</span> L·ªçc d·ªØ li·ªáu
            </button>
            <button class="btn btn-primary" id="resetBtn">
                <span>üîÑ</span> Hi·ªán t·∫•t c·∫£
            </button>
            <button class="btn btn-danger" id="clearBtn">
                <span>üóëÔ∏è</span> Xo√° nh·∫≠p l·∫°i
            </button>
        </div>
    </section>

    <section class="table-container">
        <table id="colorTable">
            <thead>
                <tr>
                    <th>STT</th>
                    <th>M√†u</th>
                    <th>M√£ Hex</th>
                    <th>C·∫£m x√∫c</th>
                    <th>BPM</th>
                    <th>Tr·∫°ng th√°i c∆° th·ªÉ</th>
                    <th>Lo·∫°i da</th>
                </tr>
            </thead>
            <tbody id="tableBody">
                <!-- Table rows will be populated by JavaScript -->
            </tbody>
        </table>
    </section>

    <section class="explanation-section">
        <h2 class="explanation-title">üìñ Gi·∫£i th√≠ch t·ª´ kh√≥</h2>
        <ul class="explanation-list" id="explanationList">
            <!-- Explanations will be populated by JavaScript -->
        </ul>
    </section>

    <div class="nav-buttons">
        <a href="mau-bpm-51-100.html" class="nav-link">
            <span>‚Üê</span> Xem 51‚Äì100
        </a>
        <a href="mau-bpm-151-200.html" class="nav-link">
            Xem 151‚Äì200 <span>‚Üí</span>
        </a>
    </div>

    <footer>
        <p>¬© 2023 M√†u s·∫Øc ‚Äì BPM ‚Äì C·∫£m x√∫c | D·ªØ li·ªáu tham kh·∫£o t·ª´ nghi√™n c·ª©u t√¢m l√Ω m√†u s·∫Øc</p>
    </footer>
</div>

<script>
    const colors = [
        [101,"#F2FFF2","H·ªìi ph·ª•c",60,"Ngh·ªâ ng∆°i s√¢u","am"],
        [102,"#E6FFE6","An y√™n",62,"Th∆∞ gi√£n","am"],
        [103,"#DAFFDA","D·ªãu nh·∫π",65,"Tim ch·∫≠m","am"],
        [104,"#CEFFCE","·ªîn ƒë·ªãnh",68,"C√¢n b·∫±ng","am"],
        [105,"#C2FFC2","T∆∞∆°i m·ªõi",70,"Tho·∫£i m√°i","am"],

        [106,"#B6FFB6","T√≠ch c·ª±c",72,"D·ªÖ ch·ªãu","am"],
        [107,"#AAFFAA","T·ªânh t√°o",75,"Nh·∫π nh√†ng","am"],
        [108,"#9EFF9E","NƒÉng l∆∞·ª£ng nh·∫π",80,"S·∫µn s√†ng","nong"],
        [109,"#92FF92","Ho·∫°t ƒë·ªông",85,"Tim tƒÉng nh·∫π","nong"],
        [110,"#86FF86","Kh·ªüi ƒë·ªông",90,"Chu·∫©n b·ªã v·∫≠n ƒë·ªông","nong"],

        [111,"#7AF27A","T·∫≠p trung",95,"N√£o ho·∫°t ƒë·ªông","nong"],
        [112,"#6EE66E","H·ª©ng kh·ªüi",100,"TƒÉng ch√∫ √Ω","nong"],
        [113,"#62DA62","S√¥i n·ªïi",105,"H∆∞ng ph·∫•n","nong"],
        [114,"#56CE56","NƒÉng l∆∞·ª£ng cao",110,"Tim nhanh","nong"],
        [115,"#4AC24A","H√†nh ƒë·ªông",115,"Chu·∫©n b·ªã cao","nong"],

        [116,"#3EB63E","√Åp l·ª±c nh·∫π",120,"CƒÉng v·ª´a","nong"],
        [117,"#32AA32","CƒÉng th·∫≥ng",125,"Kh√¥ng k√©o d√†i","nong"],
        [118,"#269E26","Stress",130,"D·ªÖ qu√° t·∫£i","nong"],
        [119,"#1A921A","C·∫£nh b√°o",135,"N√™n ngh·ªâ","nong"],
        [120,"#0E860E","Qu√° t·∫£i",140,"Tr√°nh d√πng l√¢u","nong"],

        [121,"#1F6F3A","Gi·∫£m nh·ªãp",110,"H·∫° d·∫ßn","am"],
        [122,"#2F7850","·ªîn ƒë·ªãnh l·∫°i",100,"ƒêi·ªÅu h√≤a","am"],
        [123,"#3F8166","C√¢n b·∫±ng",90,"D·ªÖ ch·ªãu","am"],
        [124,"#4F8A7C","ƒêi·ªÅm tƒ©nh",80,"Nh·∫π ng∆∞·ªùi","lanh"],
        [125,"#5F9392","B√¨nh th·∫£n",75,"An t√¢m","lanh"],

        [126,"#6F9CA8","M√°t m·∫ª",72,"Th∆∞ gi√£n","lanh"],
        [127,"#7FA5BE","Tin c·∫≠y",70,"·ªîn ƒë·ªãnh","lanh"],
        [128,"#8FAED4","Suy t∆∞",68,"H∆∞·ªõng n·ªôi","lanh"],
        [129,"#9FB7EA","Nh·∫π nh√†ng",65,"Tim ch·∫≠m","lanh"],
        [130,"#AFBFFF","Y√™n b√¨nh",60,"H·ªìi ph·ª•c","lanh"],

        [131,"#C6D2FF","M∆° m√†ng",62,"Th·∫£ l·ªèng","lanh"],
        [132,"#DCE5FF","Tinh khi·∫øt",65,"Tho·∫£i m√°i","lanh"],
        [133,"#F2F8FF","Trung t√≠nh",68,"B√¨nh th∆∞·ªùng","am"],
        [134,"#F0F0F0","·ªîn ƒë·ªãnh",70,"Kh√¥ng k√≠ch th√≠ch","am"],
        [135,"#E6E6E6","Nh·∫π",72,"D·ªÖ ch·ªãu","am"],

        [136,"#DCDCDC","Gi·∫£m nƒÉng l∆∞·ª£ng",75,"Ch·∫≠m l·∫°i","am"],
        [137,"#D2D2D2","Tr·∫ßm",78,"N·ªôi t√¢m","am"],
        [138,"#C8C8C8","Bu·ªìn nh·∫π",80,"Suy t∆∞","am"],
        [139,"#BEBEBE","L·∫Øng",82,"·ªîn ƒë·ªãnh","am"],
        [140,"#B4B4B4","Tƒ©nh",85,"Gi·ªØ nh·ªãp","am"],

        [141,"#AAAAAA","Trung h√≤a",75,"C√¢n b·∫±ng","am"],
        [142,"#A0A0A0","·ªîn ƒë·ªãnh",72,"B√¨nh th∆∞·ªùng","am"],
        [143,"#969696","Nh·∫π tr·∫ßm",70,"H·∫° nh·ªãp","am"],
        [144,"#8C8C8C","Tr·∫ßm tƒ©nh",68,"Th∆∞ gi√£n","am"],
        [145,"#828282","Bu·ªìn",65,"H∆∞·ªõng n·ªôi","am"],

        [146,"#787878","Y√™n",62,"Ngh·ªâ ng∆°i","am"],
        [147,"#6E6E6E","Tƒ©nh s√¢u",60,"Ph·ª•c h·ªìi","am"],
        [148,"#646464","N·∫∑ng",75,"Gi·∫£m k√≠ch th√≠ch","am"],
        [149,"#5A5A5A","C√¥ ƒë·ªçng",80,"T·∫≠p trung th·∫•p","am"],
        [150,"#505050","K·∫øt th√∫c",70,"·ªîn ƒë·ªãnh","am"]
    ];

    // Explanation for difficult terms specific to this data range
    const explanations = [
        { term: "BPM", meaning: "Nh·ªãp ƒë·∫≠p m·ªói ph√∫t (Beats Per Minute) - ch·ªâ s·ªë ƒëo nh·ªãp tim, th∆∞·ªùng d√πng trong √¢m nh·∫°c v√† theo d√µi s·ª©c kh·ªèe" },
        { term: "Hex", meaning: "M√£ m√†u h·ªá th·∫≠p l·ª•c ph√¢n, g·ªìm 6 k√Ω t·ª± sau d·∫•u #, bi·ªÉu di·ªÖn gi√° tr·ªã m√†u ƒë·ªè, xanh l√° v√† xanh d∆∞∆°ng" },
        { term: "H·ªìi ph·ª•c", meaning: "Tr·∫°ng th√°i ph·ª•c h·ªìi nƒÉng l∆∞·ª£ng v√† s·ª©c kh·ªèe sau khi m·ªát m·ªèi ho·∫∑c b·ªánh t·∫≠t" },
        { term: "B√¨nh th·∫£n", meaning: "Tr·∫°ng th√°i t√¢m l√Ω b√¨nh tƒ©nh, kh√¥ng b·ªã x√°o tr·ªôn b·ªüi c·∫£m x√∫c m·∫°nh" },
        { term: "Tƒ©nh s√¢u", meaning: "Tr·∫°ng th√°i th∆∞ gi√£n v√† y√™n tƒ©nh ·ªü m·ª©c ƒë·ªô cao, gi√∫p ph·ª•c h·ªìi tinh th·∫ßn" },
        { term: "C√¥ ƒë·ªçng", meaning: "S√∫c t√≠ch, t·∫≠p trung v√†o nh·ªØng y·∫øu t·ªë c·ªët l√µi, kh√¥ng d√†n tr·∫£i" },
        { term: "H∆∞·ªõng n·ªôi", meaning: "Xu h∆∞·ªõng t·∫≠p trung v√†o n·ªôi t√¢m, suy nghƒ© v√† c·∫£m x√∫c b√™n trong" },
        { term: "Stress", meaning: "Ph·∫£n ·ª©ng c·ªßa c∆° th·ªÉ v·ªõi c√°c y√™u c·∫ßu, √°p l·ª±c t·ª´ m√¥i tr∆∞·ªùng, c√≥ th·ªÉ ·∫£nh h∆∞·ªüng ƒë·∫øn s·ª©c kh·ªèe" },
        { term: "NƒÉng l∆∞·ª£ng cao", meaning: "Tr·∫°ng th√°i c√≥ nhi·ªÅu sinh l·ª±c, s·∫µn s√†ng cho c√°c ho·∫°t ƒë·ªông th·ªÉ ch·∫•t v√† tinh th·∫ßn" },
        { term: "Tim ch·∫≠m", meaning: "Nh·ªãp tim ·ªü m·ª©c th·∫•p h∆°n b√¨nh th∆∞·ªùng, th∆∞·ªùng g·∫∑p khi ngh·ªâ ng∆°i ho·∫∑c th∆∞ gi√£n s√¢u" },
        { term: "√Åp l·ª±c nh·∫π", meaning: "C·∫£m gi√°c cƒÉng th·∫≥ng ·ªü m·ª©c ƒë·ªô v·ª´a ph·∫£i, c√≥ th·ªÉ th√∫c ƒë·∫©y h√†nh ƒë·ªông t√≠ch c·ª±c" },
        { term: "Qu√° t·∫£i", meaning: "Tr·∫°ng th√°i v∆∞·ª£t qu√° kh·∫£ nƒÉng ch·ªãu ƒë·ª±ng c·ªßa c∆° th·ªÉ ho·∫∑c t√¢m l√Ω, c·∫ßn ƒë∆∞·ª£c gi·∫£i quy·∫øt" }
    ];

    // Store selected filters
    const selectedFilters = {
        bpm: [],
        skin: [],
        emotion: [],
        body: [],
        color: []
    };

    // DOM Elements
    const tableBody = document.getElementById('tableBody');
    const filterBtn = document.getElementById('filterBtn');
    const resetBtn = document.getElementById('resetBtn');
    const clearBtn = document.getElementById('clearBtn');
    const explanationList = document.getElementById('explanationList');

    // Initialize dropdowns and table
    function init() {
        populateDropdowns();
        renderTable(colors);
        renderExplanations();
        setupEventListeners();
    }

    // Populate dropdown options from data
    function populateDropdowns() {
        const bpmSet = new Set();
        const emotionSet = new Set();
        const bodySet = new Set();
        const colorSet = new Set();
        
        colors.forEach(color => {
            bpmSet.add(color[3]);
            emotionSet.add(color[2]);
            bodySet.add(color[4]);
            colorSet.add(color[1]);
        });
        
        // Populate BPM dropdown
        const bpmDropdown = document.getElementById('bpmDropdown');
        Array.from(bpmSet).sort((a, b) => a - b).forEach(bpm => {
            const item = document.createElement('div');
            item.className = 'dropdown-item';
            item.textContent = bpm;
            item.dataset.value = bpm;
            item.dataset.column = 'bpm';
            bpmDropdown.appendChild(item);
        });
        
        // Populate Emotion dropdown
        const emotionDropdown = document.getElementById('emotionDropdown');
        Array.from(emotionSet).sort().forEach(emotion => {
            const item = document.createElement('div');
            item.className = 'dropdown-item';
            item.textContent = emotion;
            item.dataset.value = emotion;
            item.dataset.column = 'emotion';
            emotionDropdown.appendChild(item);
        });
        
        // Populate Body State dropdown
        const bodyDropdown = document.getElementById('bodyDropdown');
        Array.from(bodySet).sort().forEach(body => {
            const item = document.createElement('div');
            item.className = 'dropdown-item';
            item.textContent = body;
            item.dataset.value = body;
            item.dataset.column = 'body';
            bodyDropdown.appendChild(item);
        });
        
        // Populate Color dropdown
        const colorDropdown = document.getElementById('colorDropdown');
        Array.from(colorSet).sort().forEach(color => {
            const item = document.createElement('div');
            item.className = 'dropdown-item';
            item.innerHTML = `<div style="display:flex; align-items:center; gap:10px;">
                <div style="width:20px; height:20px; background:${color}; border:1px solid #ddd; border-radius:3px;"></div>
                <span>${color}</span>
            </div>`;
            item.dataset.value = color;
            item.dataset.column = 'color';
            colorDropdown.appendChild(item);
        });
    }

    // Render explanations
    function renderExplanations() {
        explanations.forEach(exp => {
            const li = document.createElement('li');
            li.className = 'explanation-item';
            li.innerHTML = `
                <span class="term">${exp.term}</span>
                <span class="meaning">${exp.meaning}</span>
            `;
            explanationList.appendChild(li);
        });
    }

    // Render table with data
    function renderTable(data) {
        tableBody.innerHTML = '';
        
        if (data.length === 0) {
            const row = document.createElement('tr');
            const cell = document.createElement('td');
            cell.colSpan = 7;
            cell.textContent = 'Kh√¥ng c√≥ d·ªØ li·ªáu ph√π h·ª£p v·ªõi b·ªô l·ªçc';
            cell.style.textAlign = 'center';
            cell.style.padding = '30px';
            cell.style.color = '#666';
            row.appendChild(cell);
            tableBody.appendChild(row);
            return;
        }
        
        data.forEach(color => {
            const row = document.createElement('tr');
            row.dataset.id = color[0];
            
            // STT
            const sttCell = document.createElement('td');
            sttCell.textContent = color[0];
            sttCell.style.fontWeight = '600';
            row.appendChild(sttCell);
            
            // Color box
            const colorCell = document.createElement('td');
            const colorBox = document.createElement('div');
            colorBox.className = 'color-box';
            colorBox.style.backgroundColor = color[1];
            colorCell.appendChild(colorBox);
            row.appendChild(colorCell);
            
            // Hex code
            const hexCell = document.createElement('td');
            hexCell.textContent = color[1];
            hexCell.style.fontFamily = 'monospace';
            hexCell.style.fontWeight = '600';
            row.appendChild(hexCell);
            
            // Emotion
            const emotionCell = document.createElement('td');
            emotionCell.textContent = color[2];
            row.appendChild(emotionCell);
            
            // BPM
            const bpmCell = document.createElement('td');
            bpmCell.textContent = color[3];
            bpmCell.style.textAlign = 'center';
            row.appendChild(bpmCell);
            
            // Body state
            const bodyCell = document.createElement('td');
            bodyCell.textContent = color[4];
            row.appendChild(bodyCell);
            
            // Skin type
            const skinCell = document.createElement('td');
            let skinText = '';
            let skinIcon = '';
            switch(color[5]) {
                case 'nong': 
                    skinText = 'Da N√≥ng';
                    skinIcon = 'üî•';
                    break;
                case 'lanh': 
                    skinText = 'Da L·∫°nh';
                    skinIcon = '‚ùÑÔ∏è';
                    break;
                case 'am': 
                    skinText = 'Da ·∫§m';
                    skinIcon = 'üå§';
                    break;
                default: 
                    skinText = color[5];
            }
            skinCell.innerHTML = `${skinIcon} ${skinText}`;
            row.appendChild(skinCell);
            
            tableBody.appendChild(row);
        });
    }

    // Update selected items display
    function updateSelectedDisplay(column) {
        const container = document.getElementById(`${column}Selected`);
        container.innerHTML = '';
        
        selectedFilters[column].forEach(value => {
            const item = document.createElement('div');
            item.className = 'selected-item';
            
            // Format display value
            let displayValue = value;
            if (column === 'skin') {
                switch(value) {
                    case 'nong': displayValue = 'üî• Da N√≥ng'; break;
                    case 'lanh': displayValue = '‚ùÑÔ∏è Da L·∫°nh'; break;
                    case 'am': displayValue = 'üå§ Da ·∫§m'; break;
                }
            }
            
            const text = document.createElement('span');
            text.textContent = displayValue;
            
            const removeBtn = document.createElement('button');
            removeBtn.className = 'remove-item';
            removeBtn.textContent = '√ó';
            removeBtn.addEventListener('click', () => {
                removeSelected(column, value);
            });
            
            item.appendChild(text);
            item.appendChild(removeBtn);
            container.appendChild(item);
        });
    }

    // Add selected item
    function addSelected(column, value) {
        if (!selectedFilters[column].includes(value)) {
            selectedFilters[column].push(value);
            updateSelectedDisplay(column);
        }
    }

    // Remove selected item
    function removeSelected(column, value) {
        selectedFilters[column] = selectedFilters[column].filter(item => item !== value);
        updateSelectedDisplay(column);
    }

    // Apply filters
    function applyFilters() {
        let filteredData = colors;
        
        // Apply BPM filter
        if (selectedFilters.bpm.length > 0) {
            filteredData = filteredData.filter(color => 
                selectedFilters.bpm.includes(color[3].toString())
            );
        }
        
        // Apply skin filter
        if (selectedFilters.skin.length > 0) {
            filteredData = filteredData.filter(color => 
                selectedFilters.skin.includes(color[5])
            );
        }
        
        // Apply emotion filter
        if (selectedFilters.emotion.length > 0) {
            filteredData = filteredData.filter(color => 
                selectedFilters.emotion.includes(color[2])
            );
        }
        
        // Apply body state filter
        if (selectedFilters.body.length > 0) {
            filteredData = filteredData.filter(color => 
                selectedFilters.body.includes(color[4])
            );
        }
        
        // Apply color filter
        if (selectedFilters.color.length > 0) {
            filteredData = filteredData.filter(color => 
                selectedFilters.color.includes(color[1])
            );
        }
        
        renderTable(filteredData);
        
        // Highlight the filtered rows
        const rows = tableBody.querySelectorAll('tr');
        rows.forEach(row => {
            row.classList.add('highlight');
            setTimeout(() => {
                row.classList.remove('highlight');
            }, 2000);
        });
        
        // Scroll to table
        document.querySelector('.table-container').scrollIntoView({
            behavior: 'smooth',
            block: 'start'
        });
    }

    // Reset all filters
    function resetFilters() {
        selectedFilters.bpm = [];
        selectedFilters.skin = [];
        selectedFilters.emotion = [];
        selectedFilters.body = [];
        selectedFilters.color = [];
        
        // Update all displays
        Object.keys(selectedFilters).forEach(column => {
            updateSelectedDisplay(column);
        });
        
        renderTable(colors);
    }

    // Clear all selections
    function clearSelections() {
        resetFilters();
        
        // Reset dropdown buttons
        document.querySelectorAll('.dropdown-btn').forEach(btn => {
            btn.textContent = btn.textContent.replace('‚úì ', '');
            btn.classList.remove('active');
        });
        
        // Close all dropdowns
        document.querySelectorAll('.dropdown-content').forEach(dropdown => {
            dropdown.classList.remove('show');
        });
    }

    // Setup event listeners
    function setupEventListeners() {
        // Dropdown buttons
        document.querySelectorAll('.dropdown-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const dropdown = this.nextElementSibling;
                const isActive = dropdown.classList.contains('show');
                
                // Close all dropdowns
                document.querySelectorAll('.dropdown-content').forEach(d => {
                    d.classList.remove('show');
                });
                
                // Toggle current dropdown
                if (!isActive) {
                    dropdown.classList.add('show');
                    this.classList.add('active');
                } else {
                    this.classList.remove('active');
                }
            });
        });
        
        // Dropdown items
        document.querySelectorAll('.dropdown-item').forEach(item => {
            item.addEventListener('click', function() {
                const column = this.dataset.column;
                const value = this.dataset.value;
                
                // Add to selected
                addSelected(column, value);
                
                // Update button text
                const btn = document.querySelector(`.dropdown-btn[data-column="${column}"]`);
                if (!btn.textContent.includes('‚úì')) {
                    btn.innerHTML = `‚úì ${btn.textContent} <span>‚ñº</span>`;
                }
                
                // Close dropdown
                this.closest('.dropdown-content').classList.remove('show');
                btn.classList.remove('active');
            });
        });
        
        // Filter button
        filterBtn.addEventListener('click', applyFilters);
        
        // Reset button
        resetBtn.addEventListener('click', resetFilters);
        
        // Clear button
        clearBtn.addEventListener('click', clearSelections);
        
        // Close dropdowns when clicking outside
        document.addEventListener('click', function(event) {
            if (!event.target.closest('.dropdown-container')) {
                document.querySelectorAll('.dropdown-content').forEach(dropdown => {
                    dropdown.classList.remove('show');
                });
                document.querySelectorAll('.dropdown-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
            }
        });
    }

    // Initialize the app
    document.addEventListener('DOMContentLoaded', init);
</script>
</body>
</html>